"use strict";(self.webpackChunkether_and_erc20_tokens_woocommerce_payment_gateway=self.webpackChunkether_and_erc20_tokens_woocommerce_payment_gateway||[]).push([[179],{45:function(e,t,r){r(4916),r(3123),r(5306),r(6992),r(3948),r(4678),r(8594),r(5666);function a(e,t){return Object.keys(e).find((function(r){return e[r]===t}))}function o(){var e=[];if(""===window.epg.tokens_supported)return e;for(var t=window.epg.tokens_supported.split(","),r=0;r<t.length;r++){var a=t[r].split(":");if(!(a.length<3)){var o=a[0],n=a[1],c=a[2],{base_currency_ticker:s,base_currency:l}=window.epg,d=s;-1!==c.indexOf(l)&&(d=l,c=c.replace(l,""));var u=0;a.length>3&&([,,,u]=a);var i="Fixed";a.length>4&&([,,,,i]=a);var m=5;a.length>5&&([,,,,,m]=a),e.push({symbol:o,address:n,rate:c,currency:d,markup:u,rateSource:i,decimals:m})}}return e}jQuery(document).ready((function(){var e=jQuery("#woocommerce_ether-and-erc20-tokens-woocommerce-payment-gateway_tokens_supported");0===e.length&&(e=jQuery("#woocommerce_ether-and-erc20-tokens-woocommerce-payment-gateway2_tokens_supported"));var t=e.parent();e.css("display","none");var{str_tokens_table_column_symbol_title:r,str_tokens_table_column_address_title:n,str_tokens_table_column_rate_source_title:c,str_tokens_table_column_rate_title:s,str_tokens_table_column_currency_title:l,str_tokens_table_column_markup_title:d,str_tokens_table_column_decimals_title:u,str_tokens_table_column_remove_title:i}=window.epg,m='<div class="twbs"><div class="container-fluid">     <div class="row ether-and-erc20-tokens-woocommerce-payment-gateway-tokens-supported-table-wrapper">         <div class="col-12">             <div class="table-responsive">                 <table                      class="table table-striped table-condensed ether-and-erc20-tokens-woocommerce-payment-gateway-tokens-supported-table">                     <thead>                         <tr>                             <th>'+r+"</th>                             <th>"+n+"</th>                             <th>"+c+"</th>                             <th>"+s+"</th>                             <th>"+l+"</th>                             <th>"+d+"</th>                             <th>"+u+"</th>                             <th>"+i+"</th>                         </tr>                     </thead>                     <tbody>                     </tbody>                 </table>             </div>         </div>     </div> </div></div>";t.children().first().after(m),function(){var{str_tokens_table_button_remove_title:e,str_tokens_table_remove_confirm_msg:t,str_tokens_table_button_add_token_title:r,str_tokens_table_rate_source_fixed_label:n,base_currency_ticker:c,base_currency:s}=window.epg;if(jQuery(".ether-and-erc20-tokens-woocommerce-payment-gateway-tokens-supported-table").length>0){var l=[{data:"symbol",orderable:!1,type:"string"},{data:"address",orderable:!1,type:"string"},{data:"rateSource",orderable:!1,type:"string"},{data:"rate",orderable:!1,type:"string"},{data:"currency",orderable:!1,type:"string"},{data:"markup",orderable:!1,type:"num"},{data:"decimals",orderable:!1,type:"num"},{data:null}];jQuery(".ether-and-erc20-tokens-woocommerce-payment-gateway-tokens-supported-table").DataTable({language:{url:window.epg.localePath},order:[],data:o(),columns:l,columnDefs:[{targets:-1,data:null,defaultContent:'<a class="btn btn-primary" href="#" role="button">'+e+"</a>"}]});var d=jQuery(".ether-and-erc20-tokens-woocommerce-payment-gateway-tokens-supported-table").DataTable();jQuery(".ether-and-erc20-tokens-woocommerce-payment-gateway-tokens-supported-table tbody").on("click","a",(function(e){e.preventDefault(),confirm(t)&&d.row(jQuery(this).parents("tr")).remove().draw(!1)}));for(var u=setInterval((function(){if(jQuery("#ether-and-erc20-tokens-woocommerce-payment-gateway-add-token-button").length>0)clearInterval(u);else{var e=jQuery(".ether-and-erc20-tokens-woocommerce-payment-gateway-tokens-supported-table-wrapper .dataTables_length");if(0!==e.length){e.children().remove(),e.append('<a id="ether-and-erc20-tokens-woocommerce-payment-gateway-add-token-button" class="btn btn-primary" href="#" role="button">'+r+"</a>");var{base_currency_ticker:t}=window.epg;jQuery("#ether-and-erc20-tokens-woocommerce-payment-gateway-add-token-button").on("click",(function(e){e.preventDefault(),d.row.add({symbol:"",address:"",rate:1,currency:t,markup:0,decimals:5,rateSource:n}).draw(!1)}))}}}),100),i={},m=window.epg.rate_sources.split(","),p=0;p<m.length;p++){var _=m[p];i[p]=_}var y={0:c,1:s};jQuery(".ether-and-erc20-tokens-woocommerce-payment-gateway-tokens-supported-table tbody").on("click","td",(function(e){if(0===jQuery(this).find("form").length){var t=d.cell(this);2===t.index().column?(i.selected=a(i,t.data()),jQuery(this).editable((function(e,r){var a=i[e];return t.data(a).draw(),a}),{data:JSON.stringify(i),type:"select",callback:function(e,t,r){jQuery(this).editable("destroy")}}).click()):4===t.index().column?(y.selected=a(y,t.data()),jQuery(this).editable((function(e,r){var a=y[e];return t.data(a).draw(),a}),{data:JSON.stringify(y),type:"select",callback:function(e,t,r){jQuery(this).editable("destroy")}}).click()):7===t.index().column||jQuery(this).editable((function(e,r){return t.data(e).draw(),e}),{type:"text",callback:function(e,t,r){jQuery(this).editable("destroy")}}).click()}})),jQuery("#mainform").submit((function(e){!function(e){var{base_currency_ticker:t}=window.epg,{tokens_supported:r}=window.epg;0===e.length&&(r="");for(var a=[],o=0;o<e.length;o++){var n=e[o],{symbol:c,address:s,currency:l,rateSource:d}=n,u=parseFloat(n.rate);Number.isNaN(u)&&(u="");var i=parseFloat(n.markup);Number.isNaN(i)&&(i=0);var m=parseFloat(n.decimals);Number.isNaN(m)&&(m=5),t!==l&&(u+=l),a.push([c,s,u,i,d,m].join(":"))}r=a.join(","),jQuery("#woocommerce_ether-and-erc20-tokens-woocommerce-payment-gateway_tokens_supported").text(r),jQuery("#woocommerce_ether-and-erc20-tokens-woocommerce-payment-gateway2_tokens_supported").text(r)}(jQuery(".ether-and-erc20-tokens-woocommerce-payment-gateway-tokens-supported-table").DataTable().rows().data())}))}}()}))}},function(e){e.O(0,[216],(function(){return t=45,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=main.cae93f6e836087c8e148.js.map