!function(t,o,a){var e={light:{parent:{"background-color":"#fff"},options:{titleTextStyle:{color:"#333"},backgroundColor:"#fff",chartArea:{backgroundColor:"#fff"},hAxis:{gridlines:{color:"#ddd"},textStyle:{color:"#333"}},vAxis:{gridlines:{color:"#ddd"},textStyle:{color:"#333"}},crosshair:{color:"#999"},colors:["#bbb"],annotations:{textStyle:{color:"#666"}}},buttons:{selected:{"background-color":"#eee",color:"#333"},other:{"background-color":"#fff",color:"#333"}}},dark:{parent:{background:"#000"},options:{titleTextStyle:{color:"#ccc"},backgroundColor:"#111",chartArea:{backgroundColor:"#111"},hAxis:{gridlines:{color:"#333"},textStyle:{color:"#ccc"}},vAxis:{gridlines:{color:"#333"},textStyle:{color:"#ccc"}},crosshair:{color:"#ccc"},colors:["#bbb"],annotations:{textStyle:{color:"#666"}}},buttons:{selected:{"background-color":"#666",color:"#ccc"},other:{"background-color":"#444",color:"#ccc"}}}},n={hAxis:{textPosition:"in",gridlines:{count:-1}},vAxis:{textPosition:"in",gridlines:{count:10}},legend:"none",crosshair:{trigger:"both"},chartArea:{width:"100%",height:"100%"},titlePosition:"in",axisTitlesPosition:"in",theme:"material"},r=function(t){var r=this;try{r.parent_element=t,r.plot_element=t.children(".coin-chart-plot"),r.buttons_element=t.children(".coin-chart-buttons"),r.theme_obj=e[t.data("theme")]||e.light,r.symbol=t.data("symbol"),r.chart={google_chart:new o.visualization.AreaChart(r.plot_element[0]),config:a.extend(!0,{},n,r.theme_obj.options),data:null,columns:[{type:"date",label:"Date"},{type:"number",label:"USD"}],data_table:null,params:{interval:t.data("window")||null}},r.old_dim={width:r.plot_element.width(),height:r.plot_element.height()},r.setParentStyle(),r.getAndUpdateChart(),r.setButtonsActions(),r.setDrawUpdate()}catch(t){}};r.prototype.setDrawUpdate=function(){var t=this;setInterval(function(){var o={width:t.plot_element.width(),height:t.plot_element.height()};o.width==t.old_dim.width&&o.height==t.old_dim.height||(t.old_dim=o,t.drawChart())},1e3)},r.prototype.setParentStyle=function(){this.parent_element.css(this.theme_obj.parent)},r.prototype.setButtonsStyle=function(){var t=this;t.eachButton(function(o,a){var e=a==t.chart.params.interval?t.theme_obj.buttons.selected:t.theme_obj.buttons.other;o.css(e)})},r.prototype.eachButton=function(t){this.buttons_element.children(".coin-button").each(function(o,e){var n=a(e),r=n.data("action");t&&t(n,r)})},r.prototype.setButtonsActions=function(){var t=this;t.eachButton(function(o,a){o.click(function(){t.getAndUpdateChart(a)})})},r.prototype.getChartData=function(o){var e=this,n={type:"POST",url:t.urls.ajax,data:{action:"cc_chart_data",chart_options:{symbol:e.symbol,interval:e.chart.params.interval}}};a.ajax(n).done(function(t){t&&t.points&&(t.points.forEach(function(t,o){t[0]=new Date(1e3*t[0])}),e.chart.data=t,o&&o())})},r.prototype.drawChart=function(){var t=this;if(t.chart.data&&t.chart.data.name&&t.chart.data_table){var o=a.extend(!0,{},{title:"\t"+t.chart.data.name+" (USD)"},t.chart.config);t.chart.google_chart.draw(t.chart.data_table,o)}},r.prototype.updateDataTable=function(){var t=this;if(t.chart.data&&t.chart.data.points){var a=new o.visualization.DataTable;t.chart.columns.forEach(function(t){a.addColumn(t)}),a.addRows(t.chart.data.points),t.chart.data_table=a}},r.prototype.getAndUpdateChart=function(t){var o=this;o.chart.params.interval=t||o.chart.params.interval||"7d",o.getChartData(function(){o.updateDataTable(),o.drawChart()}),o.setButtonsStyle()},a.fn.extend({coinChart:function(){this.each(function(){new r(a(this))})}}),o.charts.load("current",{packages:["corechart"]}),o.charts.setOnLoadCallback(function(){a(function(){a(".coin-chart").coinChart()})})}(CChartsConstants,google,jQuery);