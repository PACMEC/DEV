(self.webpackChunkethereum_wallet=self.webpackChunkethereum_wallet||[]).push([[179],{10685:function(e,t,a){"use strict";var n,r=a(22928),o=a(8975),l=a(44431),i=a(3283),s=a.n(i),u=a(67294),c=a(73935),d=a(13457),p=a(78689),m=(a(66992),a(33948),a(41120)),f=a(39803),h=a(74855),g=a(62087),v=a(87239),Z=a(57133),b=a(282),y=a(24837),_=a(48623),w=a(66856),x=a(29525),S=a(7212),N=a(66083),C=a(80366),T=a(17812),k=a(22318),E=(0,m.Z)((e=>({dialog:{minWidth:256},dialogTitle:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500],boxShadow:"none"},dialogContent:{padding:e.spacing(2)},dialogActions:{margin:0,padding:e.spacing(1)},paperScrollPaper:{},button:{}})));function H(e){var t=E(),{title:a,message:o,actionText:l,onClose:i,open:s}=e,{str_alert_dlg_title_default:u,str_alert_dlg_ok_button_label:c}=window.ethereumWallet;return(0,r.Z)(_.Z,{"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",open:s,onClose:i,classes:{root:t.dialog,scrollBody:t.dialog,paper:t.dialog,paperScrollPaper:t.paperScrollPaper}},void 0,(0,r.Z)(N.Z,{id:"alert-dialog-title",disableTypography:!0,classes:{root:t.dialogTitle}},void 0,(0,r.Z)(k.Z,{variant:"h6"},void 0,a||u),(0,r.Z)(T.Z,{"aria-label":"close",className:t.closeButton,onClick:i},void 0,n||(n=(0,r.Z)(C.Z,{})))),(0,r.Z)(x.Z,{},void 0,(0,r.Z)(S.Z,{id:"alert-dialog-description"},void 0,o)),(0,r.Z)(w.Z,{},void 0,(0,r.Z)(b.Z,{onClick:i,variant:"contained",color:"primary",className:t.button,autoFocus:!0},void 0,l||c)))}var j,P=a(87462),V=a(45987),F=(a(45697),a(14670)),I=a(41749),O=a(79361),M=a.n(O),A=["classes","onClose","value"];var R,D,W,U=(0,F.Z)((e=>({grid:{overflowX:"inherit",overflowY:"inherit"},dialog:{overflowX:"inherit",overflowY:"inherit"},dialogTitle:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500],boxShadow:"none"},dialogContent:{padding:e.spacing(2),overflowX:"hidden",overflowY:"hidden"},paperScrollPaper:{height:"328px"}})))((function(e){var{classes:t,onClose:a,value:n}=e,o=(0,V.Z)(e,A);return""===n?null:u.createElement(_.Z,(0,P.Z)({classes:{root:t.dialog,scrollBody:t.dialog,paper:t.dialog,paperScrollPaper:t.paperScrollPaper},fullWidth:!0,maxWidth:"xs",onClose:a,"aria-labelledby":"qrcode-dialog-title"},o),(0,r.Z)(N.Z,{id:"qrcode-dialog-title",disableTypography:!0,classes:{root:t.dialogTitle}},void 0,(0,r.Z)(k.Z,{variant:"h6"},void 0,window.ethereumWallet.str_qrcode_dlg_title),(0,r.Z)(T.Z,{"aria-label":"close",className:t.closeButton,onClick:a},void 0,j||(j=(0,r.Z)(C.Z,{})))),(0,r.Z)(x.Z,{dividers:!0,classes:{root:t.dialogContent}},void 0,(0,r.Z)(I.Z,{container:!0,className:t.grid,alignItems:"center",direction:"row",justifyContent:"center"},void 0,(0,r.Z)(M(),{value:n,title:n,size:235,includeMargin:!1}))))})),B=(0,m.Z)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,marginBottom:"0px!important"},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary,marginBottom:"0px!important"},textField:{width:"100%"},textFieldInput:{height:e.spacing(5)},button:{margin:e.spacing(1),marginRight:"0px",padding:e.spacing(1),minWidth:"inherit!important"},buttonGroup:{width:"100%"}}))),L=(e,t)=>{if(void 0===e.href)return null;var{href:a,text:n}=e;return(0,r.Z)(b.Z,{href:a,target:"_blank",rel:"nofollow",size:"small",variant:"contained",color:"secondary","aria-label":n,title:n,classes:{root:t.button}},void 0,R||(R=(0,r.Z)(Z.Z,{})))},z=0;function G(e){var{text:t,label:a}=e,n=B(),[o,l]=(0,u.useState)(!1),[i,s]=(0,u.useState)(""),[c,d]=(0,u.useState)(!1),[p,m]=(0,u.useState)(""),[Z,_]=(0,u.useState)(0),{str_copied_to_clipboard:w,str_copy_to_clipboard:x,str_qrcode_button_label:S}=window.ethereumWallet;(0,u.useEffect)((()=>{0===Z&&(z++,_(z))}));var N="ethereum-wallet-text-display-field-"+Z;return(0,r.Z)(u.Fragment,{},void 0,(0,r.Z)(H,{title:w,message:p,open:c,onClose:()=>{d(!1)}}),(0,r.Z)(U,{value:i,open:o,onClose:()=>{l(!1)}}),(0,r.Z)(f.Z,{id:N,label:a,value:t,className:n.textField,margin:"dense",variant:"standard",InputProps:{readOnly:!0,classes:{input:n.textFieldInput},endAdornment:(0,r.Z)(y.Z,{},void 0,L(e,n),(0,r.Z)(h.CopyToClipboard,{text:t,onCopy:()=>{d(!0),m(t)}},void 0,(0,r.Z)(b.Z,{size:"small",variant:"contained",color:"secondary","aria-label":x,title:x,classes:{root:n.button}},void 0,D||(D=(0,r.Z)(v.Z,{})))),(0,r.Z)(b.Z,{onClick:()=>{l(!0),s(t)},size:"small",variant:"contained",color:"secondary","aria-label":S,title:S,classes:{root:n.button}},void 0,W||(W=(0,r.Z)(g.Z,{},void 0,(0,r.Z)("path",{d:"M3,11H5V13H3V11M11,5H13V9H11V5M9,11H13V15H11V13H9V11M15,11H17V13H19V11H21V13H19V15H21V19H19V21H17V19H13V21H11V17H15V15H17V13H15V11M19,19V15H17V19H19M15,3H21V9H15V3M17,5V7H19V5H17M3,3H9V9H3V3M5,5V7H7V5H5M3,15H9V21H3V15M5,17V19H7V17H5Z"})))))}}))}var X,q,$,J,K=a(7397),Y=a(20067),Q=a(28270),ee=(0,m.Z)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,marginBottom:"0px!important"},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary,marginBottom:"0px!important"},textField:{width:"100%"},textFieldInput:{height:e.spacing(5)},button:{margin:e.spacing(1),marginRight:"0px",padding:e.spacing(1),minWidth:"inherit!important"},buttonGroup:{width:"100%"}}))),te=0;function ae(e){var{text:t,label:a}=e,n=ee(),[o,l]=u.useState(!1),[i,s]=(0,u.useState)(!1),[c,d]=(0,u.useState)(""),[p,m]=(0,u.useState)(!1),[Z,_]=(0,u.useState)(""),[w,x]=(0,u.useState)(0),{str_copied_to_clipboard:S,str_copy_to_clipboard:N,str_qrcode_button_label:C}=window.ethereumWallet;(0,u.useEffect)((()=>{0===w&&(te++,x(te))}));var k="ethereum-wallet-private-key-display-field-"+w;return(0,r.Z)(u.Fragment,{},void 0,(0,r.Z)(H,{title:S,message:Z,open:p,onClose:()=>{m(!1)}}),(0,r.Z)(U,{value:c,open:i,onClose:()=>{s(!1)}}),(0,r.Z)(f.Z,{id:k,type:o?"text":"password",label:a,value:t,className:n.textField,margin:"dense",variant:"standard",InputProps:{readOnly:!0,classes:{input:n.textFieldInput},endAdornment:(0,r.Z)(K.Z,{position:"end"},void 0,(0,r.Z)(T.Z,{"aria-label":"toggle password visibility",onClick:()=>{l(!o)},onMouseDown:e=>{e.preventDefault()}},void 0,o?X||(X=(0,r.Z)(Y.Z,{})):q||(q=(0,r.Z)(Q.Z,{}))),(0,r.Z)(y.Z,{},void 0,(0,r.Z)(h.CopyToClipboard,{text:t,onCopy:()=>{m(!0),_(o?t:new Array(t.length+1).join("*"))}},void 0,(0,r.Z)(b.Z,{size:"small",variant:"contained",color:"secondary","aria-label":N,title:N,classes:{root:n.button}},void 0,$||($=(0,r.Z)(v.Z,{})))),(0,r.Z)(b.Z,{onClick:()=>{s(!0),d(t)},size:"small",variant:"contained",color:"secondary","aria-label":C,title:C,classes:{root:n.button}},void 0,J||(J=(0,r.Z)(g.Z,{},void 0,(0,r.Z)("path",{d:"M3,11H5V13H3V11M11,5H13V9H11V5M9,11H13V15H11V13H9V11M15,11H17V13H19V11H21V13H19V15H21V19H19V21H17V19H13V21H11V17H15V15H17V13H15V11M19,19V15H17V19H19M15,3H21V9H15V3M17,5V7H19V5H17M3,3H9V9H3V3M5,5V7H7V5H5M3,15H9V21H3V15M5,17V19H7V17H5Z"}))))))}}))}var ne=a(4942),re=(a(91058),a(79895)),oe=a(99956);function le(e,t,a){if("string"==typeof e){var{className:n,color:o,variant:l}=a;return null===l?(0,r.Z)(k.Z,{className:n,color:o,component:"span"},void 0,(0,r.Z)("span",{className:t.root,dangerouslySetInnerHTML:{__html:e}})):(0,r.Z)(k.Z,{className:n,color:o,variant:l,component:"span"},void 0,(0,r.Z)("span",{className:t.root,dangerouslySetInnerHTML:{__html:e}}))}return"object"==typeof e?e.value:null}function ie(e){var{title:t,iconpath:a,iconheight:n,value:o,subvalue:l,subtitle:i}=e,s=(0,m.Z)((e=>({root:{whiteSpace:"nowrap"},img:{maxWidth:n||"54px",maxHeight:n||"54px"},imageWrapper:{float:"left",marginRight:e.spacing(1)},flex:{display:"flex"},flexVertical:{height:n||"54px",display:"flex",justifyContent:"space-between",flexWrap:"nowrap",flexDirection:"column",width:"100%"},mleft:{marginLeft:"auto"},width100:{width:"100%",display:"flex",justifyContent:"space-evenly",flexWrap:"nowrap",flexDirection:"row"}}))),c=s();return(0,r.Z)(u.Fragment,{},void 0,(0,r.Z)(oe.Z,{component:"span",className:c.imageWrapper},void 0,(0,r.Z)(oe.Z,{component:"span",className:"ethereum-wallet-list-item-image-wrapper-left"},void 0,(0,r.Z)(oe.Z,{component:"span",className:"ethereum-wallet-list-item-image-wrapper"},void 0,(0,r.Z)(oe.Z,{component:"span",className:"ethereum-wallet-list-item-image"},void 0,function(e,t,a){return"string"==typeof e?(0,r.Z)("img",{className:a.img,alt:t,src:e}):"object"==typeof e?e.value:null}(a,t,c))))),(0,r.Z)(oe.Z,{component:"span",className:c.flexVertical},void 0,(0,r.Z)(oe.Z,{component:"span",className:c.flex},void 0,(0,r.Z)(oe.Z,{component:"span",className:"ethereum-wallet-list-item-title-wrapper"},void 0,le(t,c,{className:"ethereum-wallet-list-item-title",color:"textPrimary",variant:null})),(0,r.Z)(oe.Z,{component:"span",className:c.mleft},void 0,(0,r.Z)(oe.Z,{component:"span",className:"ethereum-wallet-list-item-value-wrapper"},void 0,le(o,c,{className:"ethereum-wallet-list-item-value",color:"textPrimary",variant:null})))),(0,r.Z)(oe.Z,{component:"span",className:c.flex},void 0,(0,r.Z)(oe.Z,{component:"span",className:"auto"===n?c.width100:""},void 0,(0,r.Z)(oe.Z,{component:"span",className:"ethereum-wallet-list-item-subtitle-wrapper"},void 0,le(i,c,{className:"ethereum-wallet-list-item-subtitle",color:"textSecondary",variant:"subtitle2"}))),(0,r.Z)(oe.Z,{component:"span",className:c.mleft},void 0,(0,r.Z)(oe.Z,{component:"span",className:"ethereum-wallet-list-item-subvalue-wrapper"},void 0,le(l,c,{className:"ethereum-wallet-list-item-subvalue",color:"textSecondary",variant:"subtitle2"}))))))}function se(e){var{paper:t}=e,a=(0,m.Z)((e=>({paper:{padding:0,width:"100%"},flexVertical:{display:"flex",alignItems:"center"}})))();return""===t?(0,r.Z)(oe.Z,{component:"span",className:a.paper},void 0,(0,r.Z)(oe.Z,{component:"span",className:"ethereum-wallet-list-item-content"},void 0,(0,r.Z)(oe.Z,{component:"span",className:a.flexVertical},void 0,u.createElement(ie,e)))):(0,r.Z)(re.Z,{component:"span",className:a.paper},void 0,(0,r.Z)(oe.Z,{component:"span",className:"ethereum-wallet-list-item-content"},void 0,(0,r.Z)(oe.Z,{component:"span",className:a.flexVertical},void 0,u.createElement(ie,e))))}var ue=a(43337),ce=a(15861),de=a(84956);function pe(e){return me.apply(this,arguments)}function me(){return(me=(0,ce.Z)((function*(e){return e.eth.net.getId()}))).apply(this,arguments)}var fe=null;function he(){return ge.apply(this,arguments)}function ge(){return(ge=(0,ce.Z)((function*(){if(fe)try{var e=yield pe(fe);null!==e&&""!==e||(console.log("Empty network ID"),fe=null)}catch(e){console.log(e),fe=null}if(!fe){if(void 0!==window.ethereumWallet.web3WSSEndpoint){var t=new(s())(new(s().providers.WebsocketProvider)(window.ethereumWallet.web3WSSEndpoint)),a=yield pe(t);return null!==a&&""!==a&&(console.log("getWEB3: initialized"),fe=t),fe}throw Error("No web3 endpoint specified")}return fe}))).apply(this,arguments)}var ve=null;function Ze(){return be.apply(this,arguments)}function be(){return(be=(0,ce.Z)((function*(){return null===ve&&(ve=he()),ve}))).apply(this,arguments)}function ye(){var e=(0,de.Z)(),[t,a]=(0,u.useState)(null);return(0,u.useEffect)((()=>{if(null===t&&e){var n=function(){var t=(0,ce.Z)((function*(){try{var t=yield Ze();e&&a(t)}catch(e){console.log("Error",e)}}));return function(){return t.apply(this,arguments)}}();n()}})),t}function _e(e){var t=(0,de.Z)(),[a,n]=(0,u.useState)(null);return(0,u.useEffect)((()=>{if(null!==e&&t&&null===a){var r=function(){var a=(0,ce.Z)((function*(){try{var a=yield pe(e);t&&n(a)}catch(e){console.log("Error",e)}}));return function(){return a.apply(this,arguments)}}();r()}}),[e,t]),a}function we(e,t,a,n,r){try{t.eth.sendSignedTransaction(e).once("transactionHash",function(){var e=(0,ce.Z)((function*(e){console.log(e),a(e)}));return function(t){return e.apply(this,arguments)}}()).on("error",(function(e){console.log(e),r(e.message)})).then(function(){var e=(0,ce.Z)((function*(e){n(e)}));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),r(e.message)}))}catch(e){console.error(e),r(e.message)}}a(39714);var xe=a(62860),Se=a(34424);a(88674);function Ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(a),!0).forEach((function(t){(0,ne.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ne(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Te(e,t){return 0===e.length?e:(e.charAt(0)===t&&(e=e.substring(1)),0===e.length||e.charAt(e.length-1)===t&&(e=e.substring(0,e.length-1)),e)}var ke=e=>Object.keys(e).map((t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t]))).join("&");function Ee(e){return He.apply(this,arguments)}function He(){return(He=(0,ce.Z)((function*(e){var{wp_rest_nonce:t,wp_rest_url:a}=window.ethereumWallet,n=yield fetch(a+"ethereumwallet/v1/web3_signTransaction",{method:"POST",headers:{Accept:"text/plain","Content-type":"application/x-www-form-urlencoded"},dataType:"text",body:ke(Ce(Ce({},e),{},{_wpnonce:t,data:null===e.data?"":e.data}))});if(null===n||'""'===n)throw console.error("ethereum_wallet_signTransaction error: empty result"),new Error("empty result");var r=yield n.text();if('""'===r)throw console.error("ethereum_wallet_signTransaction error: empty result"),new Error("empty result");var o=Te(r,'"');if(console.log("txRawSigned:",o,typeof o),-1!==o.indexOf("message")){var l=JSON.parse(o);throw console.log("error:",l.message),new Error(l.message)}return o}))).apply(this,arguments)}var je={};function Pe(e,t,a){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,ce.Z)((function*(e,t,a){if(null===a)return!1;var n=e.toLowerCase();void 0===je[n]&&(je[n]=a.eth.getCode(n));var r=yield je[n],o=a.eth.abi.encodeFunctionSignature(t);return r.indexOf("63"+o.slice(2,o.length))>0}))).apply(this,arguments)}var Fe={};function Ie(e,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,ce.Z)((function*(e,t){if(""===e)return 18;if(void 0!==Fe[e])return Fe[e];if(!(yield Pe(e,"decimals()",t)))return console.log("No decimals() method for",e),null;var{erc20_abi:a}=window.ethereumWallet;if(null===a)return null;var n=JSON.parse(a),r=new t.eth.Contract(n,e),o=yield r.methods.decimals().call();return null===o?null:(Fe[e]=parseInt(o),Fe[e])}))).apply(this,arguments)}var Me={};function Ae(){return(Ae=(0,ce.Z)((function*(e,t){return null===e||null===t?null:(void 0===Me[e]&&(Me[e]=Ie(e,t)),Me[e])}))).apply(this,arguments)}function Re(e,t,a){var[n,r]=(0,u.useState)(null);return(0,u.useEffect)((()=>{var n=function(){var n=(0,ce.Z)((function*(){if(null!==e&&null!==t){if("string"==typeof a)switch(a){case"ETH_METHOD_CALL_TX":case"ETH_RECEIVE_TX":case"ETH_SEND_TX":case"ETH_SELF_TX":case"ETH_UNKNOWN_TX":return void r(18);case"NFT_RECEIVE_TX":case"NFT_SEND_TX":case"NFT_SELF_TX":case"NFT_MINT_TX":case"NFT_UNKNOWN_TX":return void r(0);case"ERC20_RECEIVE_TX":case"ERC20_SEND_TX":case"ERC20_SELF_TX":case"ERC20_UNKNOWN_TX":break;default:return}try{var n=yield function(e,t){return Ae.apply(this,arguments)}(e,t);if(null===n)return;r(n)}catch(t){console.log("getTokenDecimals(",e,") failed:",t)}}}));return function(){return n.apply(this,arguments)}}();n()}),[e,t,a]),n}function De(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function We(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?De(Object(a),!0).forEach((function(t){(0,ne.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):De(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ue(e){var{symbol:t,name:a,address:n,decimals:o,decimalchar:l,wooproduct:i,iconpath:s,iconheight:c,balance:d,fiatbalance:p,exchangerate:f,exchangeratedisplay:h,displayfiat:g}=e,v=(0,m.Z)((e=>({root:{width:"100%",display:"block",whiteSpace:"nowrap"},img:{maxWidth:c||"54px",maxHeight:c||"54px"},imageWrapper:{float:"left",marginRight:e.spacing(1)},flex:{display:"flex"},flexVertical:{height:c||"54px",display:"flex",justifyContent:"space-between",flexWrap:"nowrap",flexDirection:"column"},mleft:{marginLeft:"auto"},noPaddingLeft:{paddingLeft:"0px!important"},noPaddingRight:{paddingRight:"0px!important"}}))),Z=v();return g&&""!==p?""===s?(0,r.Z)(u.Fragment,{},void 0,(0,r.Z)(oe.Z,{component:"span",className:Z.flex},void 0,(0,r.Z)(oe.Z,{component:"span",className:"ethereum-wallet-balance-value-wrapper"},void 0,(0,r.Z)(oe.Z,{component:"span",className:"ethereum-wallet-balance-value"},void 0,(0,r.Z)(k.Z,{className:Z.root,color:"textPrimary",component:"span"},void 0,d," ",t))),(0,r.Z)(oe.Z,{component:"span",className:Z.mleft},void 0,(0,r.Z)(oe.Z,{component:"span",className:"ethereum-wallet-balance-fiat-value-wrapper"},void 0,(0,r.Z)(k.Z,{className:"ethereum-wallet-balance-fiat-value",color:"textPrimary",component:"span"},void 0,(0,r.Z)("span",{className:Z.root,dangerouslySetInnerHTML:{__html:p}})))))):(0,r.Z)(se,{iconpath:s,iconheight:c,title:a,subtitle:h,value:p,subvalue:d+" "+t}):(0,r.Z)(u.Fragment,{},void 0,(0,r.Z)(I.Z,{container:!0,justifyContent:"center",spacing:1},void 0,(0,r.Z)(I.Z,{xs:6,item:!0,className:Z.noPaddingRight},"value",(0,r.Z)(oe.Z,{component:"span",className:"ethereum-wallet-balance-value-wrapper"},void 0,(0,r.Z)(oe.Z,{component:"span",className:"ethereum-wallet-balance-value"},void 0,(0,r.Z)(k.Z,{className:Z.root,align:"right",color:"textPrimary",component:"span"},void 0,d)))),(0,r.Z)(I.Z,{xs:6,item:!0,className:Z.noPaddingLeft},"symbol",(0,r.Z)(oe.Z,{component:"span",className:"ethereum-wallet-balance-token-name-wrapper"},void 0,(0,r.Z)(oe.Z,{component:"span",className:"ethereum-wallet-balance-token-name"},void 0,(0,r.Z)(k.Z,{className:Z.root,color:"textPrimary",component:"span"},void 0,t))))))}function Be(e){var{balance:t,address:a,decimals:n,decimalchar:i,paper:s,updatetimeout:c}=e,{user_wallet_address:d}=window.ethereumWallet,p=1e3*parseInt(c),[f,h]=(0,u.useState)(Math.floor((new Date).getTime()/p)),g=ye(),v=""===a?function(e,t,a){var[n,r]=(0,u.useState)(null);return(0,u.useEffect)((()=>{null!==e&&null!==t&&t.eth.getBalance(e,(function(e,t){if(e)console.log(e);else{var a=new l.BigNumber(t);r(a)}}))}),[e,t,a]),n}(d,g,f):function(e,t,a,n){var[r,o]=(0,u.useState)(null);return(0,u.useEffect)((()=>{if(null!==e&&null!==t)if("0x0000000000000000000000000000000000000001"!==t){if(null!==a){var{erc20_abi:n}=window.ethereumWallet;if(null!==n){var r=JSON.parse(n);new a.eth.Contract(r,t).methods.balanceOf(e).call().then((function(e){var t=new l.BigNumber(e);o(t)})).catch((function(e){console.log(e)}))}}}else console.log("useTokenBalance called for ETH")}),[e,t,a,n]),r}(d,a,g,f),Z=Re(a,g),b=null===v?null:function(e,t,a,n){var r="",i="";null==n&&(n=18);var s=new l.BigNumber(10).pow(n),u=e.idiv(s),c=e.minus(u.times(s));if(0===t)c.times(new l.BigNumber(2)).comparedTo(s)<0?(r=u.toString(),i=u.toString()):(r=u.add(new l.BigNumber(1)).toString(),i=u.add(new l.BigNumber(1)).toString());else{var d=c.toString(),p=(0,o.sprintf)("%0"+n+"s",d),m=p.substr(0,t);xe("",t,"0")===m?(r=Se(u.toString()+a+p,"0"),i=Se(u.toString()+"."+p,"0")):(r=Se(u.toString()+a+m,"0"),i=Se(u.toString()+"."+m,"0")),r=Se(r,a),i=Se(i,".")}return r}(v,n,i,Z);(0,ue.Z)((()=>{h(Math.floor((new Date).getTime()/p))}),1e3);var y=We(We({},e),{},{balance:b||t}),_=(0,m.Z)((e=>({paper:{padding:e.spacing(2)}}))),w=_();return""===s||"0"===s||"false"===s||"no"===s?(0,r.Z)(oe.Z,{component:"span",className:w.paper},void 0,(0,r.Z)(oe.Z,{component:"span",className:"ethereum-wallet-balance-content"},void 0,u.createElement(Ue,y))):(0,r.Z)(re.Z,{component:"div",classes:{root:w.paper}},void 0,(0,r.Z)(oe.Z,{component:"span",className:"ethereum-wallet-balance-content"},void 0,u.createElement(Ue,y)))}a(54678);var Le,ze=a(43910),Ge=a(4681),Xe=a(47298),qe=a(81376),$e=["title","onClose","onChange","open","setOpen","validate"],Je=(0,m.Z)((e=>({dialog:{},dialogTitle:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500],boxShadow:"none"},dialogContent:{padding:e.spacing(2)},dialogActions:{margin:0,padding:e.spacing(1)},paperScrollPaper:{},button:{},scanButton:{margin:e.spacing(1),marginRight:"0px",padding:e.spacing(1),minWidth:"inherit!important"},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20},textField:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}})));var Ke,Ye,Qe=0;function et(e){var t=Je(),{title:a,onClose:n,onChange:o,open:l,setOpen:i,validate:s}=e,c=(0,V.Z)(e,$e),[d,p]=(0,u.useState)(""),[m,f]=(0,u.useState)(0);(0,u.useEffect)((()=>{0===m&&(Qe++,f(Qe))}));var h="ethereum-wallet-qr-input-dialog-"+m,g=()=>{l?i(!1):o(d)},v=()=>{l?i(!1):n()},Z=function(){var e=(0,ce.Z)((function*(e){s(e)?(p(e),i(!1)):console.log("handleScan validate NOT OK:",e)}));return function(t){return e.apply(this,arguments)}}();return u.createElement(_.Z,(0,P.Z)({classes:{root:t.dialog,scrollBody:t.dialog,paper:t.dialog,paperScrollPaper:t.paperScrollPaper},fullWidth:!0,maxWidth:"sm",onClose:v,"aria-labelledby":h,open:l},c),(0,r.Z)(N.Z,{id:h,disableTypography:!0,classes:{root:t.dialogTitle}},void 0,(0,r.Z)(k.Z,{variant:"h6"},void 0,a),(0,r.Z)(T.Z,{"aria-label":"close",className:t.closeButton,onClick:v},void 0,Le||(Le=(0,r.Z)(C.Z,{})))),(0,r.Z)(x.Z,{dividers:!0,classes:{root:t.dialogContent}},void 0,function(e,t,a,n,o,l,i,s,u){return o?(0,r.Z)(qe.Z,{delay:l,className:u.qrReader,onError:i,onScan:s}):null}(0,0,0,0,l,500,(e=>{console.log(e)}),Z,t)),(0,r.Z)(w.Z,{classes:{root:t.dialogActions}},void 0,function(e,t,a){var{str_confirm_dlg_ok_button_label:n,str_confirm_dlg_cancel_button_label:o}=window.ethereumWallet;return t?(0,r.Z)(b.Z,{variant:"contained",color:"primary",className:a.button,onClick:e},void 0,(0,r.Z)(k.Z,{variant:"button"},void 0,o),(0,r.Z)(Xe.Z,{className:a.rightIcon})):null}(g,l,t)))}var tt=(0,m.Z)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,marginBottom:"0px!important"},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary,marginBottom:"0px!important"},textField:{width:"100%"},textFieldInput:{height:e.spacing(5)},button:{margin:e.spacing(1),marginRight:"0px",padding:e.spacing(1),minWidth:"inherit!important"},buttonGroup:{width:"100%"}}))),at=0;function nt(e){var{placeholder:t,label:a,inputDialogTitle:n,validate:o,value:l,setValue:i}=e,s=tt(),[c,d]=(0,u.useState)(!1),[p,m]=(0,u.useState)(0),{str_qrcode_button_label:h}=window.ethereumWallet;(0,u.useEffect)((()=>{0===p&&(at++,m(at))}));var v="ethereum-wallet-qr-text-input-field-"+p;return(0,r.Z)(u.Fragment,{},void 0,(0,r.Z)(et,{title:n,validate:o,open:c,setOpen:d,onClose:e=>{d(!1)},onChange:e=>{i(e)}}),(0,r.Z)(f.Z,{id:v,label:a,value:null===l?"":l,onChange:e=>{console.log("handleInputChange",{event:e.target.value}),i(e.target.value)},placeholder:t,className:s.textField,margin:"dense",variant:"standard",inputProps:{autoComplete:"off"},InputProps:{classes:{input:s.textFieldInput},startAdornment:Ke||(Ke=(0,r.Z)(K.Z,{position:"start"},void 0,(0,r.Z)(Ge.Z,{}))),endAdornment:(0,r.Z)(y.Z,{},void 0,(0,r.Z)(b.Z,{onClick:()=>{d(!0)},size:"small",variant:"contained",color:"secondary","aria-label":h,title:h,classes:{root:s.button}},void 0,Ye||(Ye=(0,r.Z)(g.Z,{},void 0,(0,r.Z)("path",{d:"M3,11H5V13H3V11M11,5H13V9H11V5M9,11H13V15H11V13H9V11M15,11H17V13H19V11H21V13H19V15H21V19H19V21H17V19H13V21H11V17H15V15H17V13H15V11M19,19V15H17V19H19M15,3H21V9H15V3M17,5V7H19V5H17M3,3H9V9H3V3M5,5V7H7V5H5M3,15H9V21H3V15M5,17V19H7V17H5Z"})))))}}))}var rt=a(46479),ot=a(15785),lt=a(43700),it=a(64436),st=(0,m.Z)((e=>({root:{fontSize:"19px",fontWeight:700,width:"100%",display:"block"},selectorRoot:{padding:e.spacing(2),display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"space-between",alignItems:"center"},iconWrapper:{float:"right",marginLeft:"5px"},menu:{width:"100%",maxWidth:"1024px"},listItem:{padding:0},formControl:{margin:e.spacing(1),minWidth:120,width:"100%"}}))),ut=0;function ct(e){var{tokens:t,selectedIndex:a,setSelectedIndex:n}=e,{str_token_selector_label:o}=window.ethereumWallet,[l,i]=(0,u.useState)(0);(0,u.useEffect)((()=>{0===l&&(ut++,i(ut))}),[l]);var s="ethereum-wallet-token-selector-field-"+l,c=JSON.parse(t),d=st();return(0,r.Z)(u.Fragment,{},void 0,(0,r.Z)(it.Z,{className:d.formControl},void 0,(0,r.Z)(lt.Z,{id:s},void 0,o),(0,r.Z)(ot.Z,{labelId:s,className:d.root,margin:"dense",variant:"standard",renderValue:e=>{var t=c.length>0?c[a]:null,{symbol:n,name:o,iconpath:l,iconheight:i,balance:s,fiatbalance:u,exchangeratedisplay:d}=t;return(0,r.Z)(se,{iconpath:l,iconheight:i,title:o,subtitle:d,value:u,subvalue:s+" "+n,paper:""})},value:a},void 0,c.map(((e,t)=>(0,r.Z)(rt.Z,{value:t,selected:t===a,onClick:e=>((e,t)=>{n(t)})(0,t)},e.address,(0,r.Z)(se,{iconpath:e.iconpath,iconheight:e.iconheight,title:e.name,subtitle:e.exchangeratedisplay,value:e.fiatbalance,subvalue:e.balance+" "+e.symbol,paper:""})))))))}a(74916),a(23123),a(56977);var dt,pt,mt=a(95409),ft=a(17395),ht=a(34424),gt=(0,m.Z)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,marginBottom:"0px!important"},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary,marginBottom:"0px!important"},textField:{width:"100%"},textFieldInput:{height:e.spacing(5)},button:{margin:e.spacing(1),marginRight:"0px",padding:e.spacing(1),minWidth:"inherit!important"},buttonGroup:{width:"100%"},currencySwitchImage:{width:"21px",height:"21px"},empty:{}})));function vt(e,t,a){return(0,r.Z)("img",{src:e,alt:t,className:a})}function Zt(e){if(-1!==e.indexOf(".")){var t=e.split(".");if(console.log("b:",t),t.length>1){var a=ht(t[1],"0");if(console.log("c:",a),0===a.length){var n=t[0];return console.log("ethValue:",n),n}var r=t[0]+"."+a;return console.log("ethValue:",r),r}}if(-1!==e.indexOf(",")){var o=e.split(",");if(console.log("b2:",o),o.length>1){var l=ht(o[1],"0");if(console.log("c2:",l),0===l.length){var i=o[0];return console.log("ethValue:",i),i}var s=o[0]+"."+l;return console.log("ethValue2:",s),s}}return e}var bt=0;function yt(e){var{placeholder:t,label:a,inputDialogTitle:n,validate:o,fiatCurrencySymbol:i,cryptoCurrencySymbol:s,exchangerate:c,balance:d,iconpath:p,fiaticonpath:m,value:h,setValue:v,gasPrice:Z,maxFeePerGas:_,gasLimit:w,decimals:x}=e,{str_qrcode_button_label:S,str_max_value_button_label:N,str_amount_field_label:C,str_na_label:T,price_decimals:k}=window.ethereumWallet,E=()=>F||T===c,H=()=>{if(""!==s)return d;var e=w*(Z+(null===_?0:_/1e9));return d<e?0:d-e},j=e=>{if(""===e)return 0;var t=new l.BigNumber(e),a=parseFloat(t.toString(10));return E()||(a/=parseFloat(c)),Math.max(0,Math.min(a,H()))},P=e=>{var t=parseFloat(e);return E()||(t*=parseFloat(c)),t=Zt(t.toFixed(D)),console.log("value2DisplayValue:",e,"->",t,", exchangerate =",c),t},V=gt(),[F,I]=(0,u.useState)(!0),[O,M]=(0,u.useState)(0),[A,R]=(0,u.useState)(null),[D,W]=(0,u.useState)(2),[U,B]=(0,u.useState)(!1),[L,z]=(0,u.useState)(0);E(),E();(0,u.useEffect)((()=>{E()?W(Math.min(5,x)):W(k)})),(0,u.useEffect)((()=>{R(1/Math.pow(10,D))})),(0,u.useEffect)((()=>{v(j(O))}),[O,s,i,d,Z,_,w]),(0,u.useEffect)((()=>{var e=E()?parseFloat(h):parseFloat(h)*parseFloat(c);console.log("z:",e);var t=e.toFixed(D);console.log("a:",t),M(Zt(t))}),[c,F,D,s]),(0,u.useEffect)((()=>{0===L&&(bt++,z(bt))}),[L]);var G="ethereum-wallet-amount-input-field-"+L;return(0,r.Z)(u.Fragment,{},void 0,(0,r.Z)(et,{title:n,validate:o,open:U,setOpen:B,onClose:e=>{B(!1)},onChange:e=>{M(e)}}),(0,r.Z)(f.Z,{id:G,label:a,value:O,onChange:e=>{if(""===e.target.value)return console.log("handleInputChange: empty value"),void M("");new l.BigNumber(e.target.value).isNaN()?console.log("handleInputChange: isNaN"):M(e.target.value)},onBlur:()=>{var e=j(O),t=P(e);M(t)},type:"text",placeholder:t,className:V.textField,margin:"dense",variant:"standard",inputProps:{},InputProps:{classes:{input:V.textFieldInput},startAdornment:(0,r.Z)(K.Z,{position:"start"},void 0,(0,r.Z)(ft.Z,{checked:!E(),onChange:e=>{I(!e.target.checked)},disabled:T===c,color:"primary",icon:vt(p,s,V.currencySwitchImage),checkedIcon:vt(m,i,V.currencySwitchImage)})),endAdornment:(0,r.Z)(u.Fragment,{},void 0,(0,r.Z)(y.Z,{},void 0,(0,r.Z)(b.Z,{onClick:()=>{M(P(H()))},size:"small",variant:"contained",color:"secondary","aria-label":N,title:N,classes:{root:V.button}},void 0,dt||(dt=(0,r.Z)(mt.Z,{}))),(0,r.Z)(b.Z,{onClick:()=>{B(!0)},size:"small",variant:"contained",color:"secondary","aria-label":S,title:S,classes:{root:V.button}},void 0,pt||(pt=(0,r.Z)(g.Z,{},void 0,(0,r.Z)("path",{d:"M3,11H5V13H3V11M11,5H13V9H11V5M9,11H13V15H11V13H9V11M15,11H17V13H19V11H21V13H19V15H21V19H19V21H17V19H13V21H11V17H15V15H17V13H15V11M19,19V15H17V19H19M15,3H21V9H15V3M17,5V7H19V5H17M3,3H9V9H3V3M5,5V7H7V5H5M3,15H9V21H3V15M5,17V19H7V17H5Z"}))))))}}))}var _t,wt=a(44845),xt=a(48781),St=a(34424),Nt=(0,m.Z)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,marginBottom:"0px!important"},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary,marginBottom:"0px!important"},textField:{width:"100%"},textFieldInput:{height:e.spacing(5),width:"fit-content",maxWidth:e.spacing(8)},button:{margin:e.spacing(1),marginRight:"0px",padding:e.spacing(1),minWidth:"inherit!important"},buttonGroup:{width:"100%"},fee:{textAlign:"center"}})));function Ct(e){var{str_gas_gwei_label:t}=window.ethereumWallet;return e+t}var Tt=e=>Number(parseFloat(e).toFixed(1)),kt=0;function Et(e){var{value:t,setValue:a,gasLimit:n,exchangerate:o,fiatCurrencySymbol:l,gasPriceEstimate:i}=e,s=Nt(),{str_gas_price_slow_label:c,str_gas_price_safe_label:d,str_gas_price_fast_label:p,str_gas_price_chain_label:m,str_gas_price_label:h,str_gas_gwei_label:g,str_na_label:v,currency_ticker:Z,price_decimals:b}=window.ethereumWallet,y=null!==i&&null!==i.maxFeePerGas?i.maxFeePerGas/1e9:0,_=null!==i?Tt(.9*parseFloat(i.slow)+y):0,w=null!==i?Tt(1.1*parseFloat(i.fast)+y):5,[x,S]=(0,u.useState)(0),[N,C]=u.useState(Tt(t+y));(0,u.useEffect)((()=>{C(Tt(t+y))}),[t,y]),(0,u.useEffect)((()=>{0===x&&(kt++,S(kt))}));var T="ethereum-wallet-gas-price-slider-"+x,E=("".concat(T,"-label"),[{value:Math.max(_,null!==i?Tt(parseFloat(i.slow)+y):1),label:c},{value:Math.min(w,null!==i?Tt(parseFloat(i.slow)===parseFloat(i.fast)?parseFloat(i.fast)+y+.1:parseFloat(i.fast)+y):5),label:p}]);return(0,r.Z)(oe.Z,{component:"span",className:s.root},void 0,(0,r.Z)(I.Z,{container:!0,spacing:2,alignItems:"center"},void 0,(0,r.Z)(I.Z,{item:!0,xs:12},void 0,(0,r.Z)(f.Z,{id:T,label:h,value:N,onChange:e=>{a(""===e.target.value?"":Math.max(0,Tt(parseFloat(e.target.value)-y)))},onBlur:()=>{},type:"number",className:s.textField,margin:"dense",variant:"standard",inputProps:{step:.1,min:_,max:w},InputProps:{classes:{input:s.textFieldInput},startAdornment:_t||(_t=(0,r.Z)(K.Z,{position:"start"},void 0,(0,r.Z)(xt.Z,{}))),endAdornment:(0,r.Z)(u.Fragment,{},void 0,(0,r.Z)(wt.Z,{getAriaValueText:Ct,step:.1,min:_,max:w,valueLabelDisplay:"auto",marks:E,onChange:(e,t)=>{a(Math.max(0,Tt(t-y)))},value:"number"==typeof N?N:0}))}})),(0,r.Z)(I.Z,{item:!0,xs:12},void 0,(0,r.Z)(k.Z,{className:s.fee,gutterBottom:!0},void 0,(()=>{if(null===n)return"";var e=n*N/1e9;if(null===o)return e.toFixed(10)+" "+Z;var t=e*o,a=St(St(St(e.toFixed(10),"0"),"."),","),r=St(St(St(t.toFixed(b),"0"),"."),",");return a+" "+Z+" / "+l+r})()))))}var Ht,jt,Pt,Vt,Ft,It,Ot=a(95875),Mt=a(61201),At=a(50743),Rt=a(64566),Dt=a(21727),Wt=a(69446),Ut=a(73228),Bt=(0,m.Z)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0,marginBottom:"0px!important"},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary,marginBottom:"0px!important",display:"flex",alignItems:"center"},textField:{width:"100%"},textFieldInput:{minHeight:e.spacing(5)},button:{margin:e.spacing(1),marginRight:"0px",padding:e.spacing(1),minWidth:"inherit!important"},buttonGroup:{width:"100%"},content:{}})));function Lt(e){var{address:t,expandedInitial:a,data:n,setData:o,nonce:l,nonceInitial:i,setNonce:s,gasLimit:c,gasLimitInitial:d,setGasLimit:p}=e,m=Bt(),[h,g]=(0,u.useState)(a),{str_advanced_panel_title:v,str_advanced_panel_desc:Z,str_nonce_field_label:_,str_gas_limit_field_label:w,str_data_field_label:x,str_undo_button_label:S}=window.ethereumWallet;return(0,r.Z)(u.Fragment,{},void 0,(0,r.Z)(Ot.Z,{className:m.root,expanded:h,onChange:(e,t)=>{g(t)}},void 0,(0,r.Z)(At.Z,{expandIcon:Ht||(Ht=(0,r.Z)(Rt.Z,{})),"aria-controls":"advancedbh-content"},void 0,(0,r.Z)(k.Z,{variant:"h3",className:m.heading},void 0,v),(0,r.Z)(k.Z,{variant:"h4",className:m.secondaryHeading},void 0,jt||(jt=(0,r.Z)(Dt.Z,{})),Z)),(0,r.Z)(Mt.Z,{},void 0,(0,r.Z)(I.Z,{container:!0,spacing:1,className:m.content},void 0,(0,r.Z)(I.Z,{item:!0,xs:12,sm:6,className:m.row},void 0,(0,r.Z)(f.Z,{label:_,value:null!==l?l:"",className:m.textField,margin:"dense",onChange:e=>{e.target.value<i||s(e.target.value)},type:"number",inputProps:{step:1,min:null!==i?i:0},InputProps:{classes:{input:m.textFieldInput},startAdornment:Pt||(Pt=(0,r.Z)(K.Z,{position:"start"},void 0,(0,r.Z)(Ut.Z,{}))),endAdornment:(0,r.Z)(y.Z,{},void 0,(0,r.Z)(b.Z,{onClick:()=>{s(i)},size:"small",variant:"contained",color:"secondary","aria-label":S,title:S,classes:{root:m.button}},void 0,Vt||(Vt=(0,r.Z)(Wt.Z,{}))))}})),(0,r.Z)(I.Z,{item:!0,xs:12,sm:6,className:m.row},void 0,(0,r.Z)(f.Z,{label:w,value:null!==c?c:21e3,className:m.textField,margin:"dense",variant:"standard",onChange:e=>{parseInt(e.target.value)<d||p(e.target.value)},type:"number",inputProps:{step:1,min:null!==d?d:21e3},InputProps:{classes:{input:m.textFieldInput},startAdornment:Ft||(Ft=(0,r.Z)(K.Z,{position:"start"},void 0,(0,r.Z)(xt.Z,{}))),endAdornment:(0,r.Z)(y.Z,{},void 0,(0,r.Z)(b.Z,{onClick:()=>{p(d)},size:"small",variant:"contained",color:"secondary","aria-label":S,title:S,classes:{root:m.button}},void 0,It||(It=(0,r.Z)(Wt.Z,{}))))}})),(0,r.Z)(I.Z,{item:!0,xs:12,className:m.row},void 0,(0,r.Z)(f.Z,{label:x,value:null!==n?n:"",className:m.textField,multiline:!0,maxRows:"4",margin:"dense",variant:"standard",InputProps:{classes:{input:m.textFieldInput},readOnly:""!==t}}))))))}var zt=a(43832),Gt=a(89659),Xt=a(95477),qt=["lastTxHash","lastTxConfirmations"];var $t=(0,m.Z)((e=>({dialog:{overflowX:"hidden",overflowY:"hidden"},dialogTitle:{margin:0,padding:e.spacing(2)},dialogContent:{padding:e.spacing(2),overflowX:"hidden",overflowY:"hidden"},paperScrollPaper:{overflowX:"hidden",overflowY:"hidden"},grid:{overflowX:"hidden",overflowY:"hidden"},progress:{margin:e.spacing(2)},link:{}}))),Jt=parseInt(window.ethereumWallet.confirmations_number)||12;var Kt=!1;var Yt,Qt=function(e){var t=$t(),{lastTxHash:a,lastTxConfirmations:n}=e,l=(0,V.Z)(e,qt),i=!1,s=0;null!==n&&(s=parseInt(n),Kt||s!==Jt||(console.log("confirmations === maxConfirmations"),Kt=!0,setTimeout((()=>{console.log("TxProgressDialog: reload"),location.reload()}),1e4)),i=s<Jt);var c=s+"/"+Jt,{str_tx_progress_dlg_title:d}=window.ethereumWallet,p=function(e){if(null===e)return null;var{blockchain_network:t,txHashPathTemplate:a}=window.ethereumWallet;if(""!==a)return(0,o.sprintf)(a,e);var n="";return"mainnet"!==t&&(n=t+"."),"https://"+n+"etherscan.io/tx/"+e}(a);return u.createElement(_.Z,(0,P.Z)({classes:{root:t.dialog,scrollBody:t.dialog,paper:t.dialog,paperScrollPaper:t.paperScrollPaper},open:i,maxWidth:"sm","aria-labelledby":"tx-progress-dialog-title"},l),(0,r.Z)(N.Z,{id:"tx-progress-dialog-title",disableTypography:!0,classes:{root:t.dialogTitle}},void 0,(0,r.Z)(k.Z,{variant:"h6"},void 0,d)),(0,r.Z)(x.Z,{dividers:!0,classes:{root:t.dialogContent}},void 0,(0,r.Z)(I.Z,{container:!0,className:t.grid,alignItems:"center",direction:"row",justifyContent:"center"},void 0,(0,r.Z)(Xt.Z,{className:t.progress})),(0,r.Z)(zt.Z,{maxWidth:"sm"},void 0,function(e,t,a,n){var{str_tx_progress_dlg_content:l}=window.ethereumWallet;return(0,r.Z)(u.Fragment,{},void 0,(0,r.Z)(k.Z,{variant:"body1",component:"p"},void 0,(0,o.sprintf)(l,a)),(0,r.Z)(k.Z,{variant:"body2",component:"p"},void 0,(0,r.Z)(Gt.Z,{href:t,target:"_blank",className:n.link},void 0,e)))}(a,p,c,t))))},ea=(0,m.Z)((e=>({dialog:{minWidth:256},dialogTitle:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500],boxShadow:"none"},dialogContent:{padding:e.spacing(2)},dialogActions:{margin:0,padding:e.spacing(1)},paperScrollPaper:{},button:{}})));function ta(e){var t=ea(),{title:a,message:n,actionText:o,onConfirm:l,onCancel:i,open:s}=e,{str_confirm_dlg_title_default:u,str_confirm_dlg_ok_button_label:c,str_confirm_dlg_cancel_button_label:d}=window.ethereumWallet;return(0,r.Z)(_.Z,{"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",open:s,onClose:i,classes:{root:t.dialog,scrollBody:t.dialog,paper:t.dialog,paperScrollPaper:t.paperScrollPaper}},void 0,(0,r.Z)(N.Z,{id:"confirm-dialog-title",disableTypography:!0,classes:{root:t.dialogTitle}},void 0,(0,r.Z)(k.Z,{variant:"h6"},void 0,a||u),(0,r.Z)(T.Z,{"aria-label":"close",className:t.closeButton,onClick:i},void 0,Yt||(Yt=(0,r.Z)(C.Z,{})))),(0,r.Z)(x.Z,{},void 0,(0,r.Z)(S.Z,{id:"confirm-dialog-description"},void 0,n)),(0,r.Z)(w.Z,{},void 0,(0,r.Z)(b.Z,{onClick:l,variant:"contained",color:"primary",className:t.button},void 0,o||c),(0,r.Z)(b.Z,{onClick:i,variant:"contained",color:"secondary",className:t.button,autoFocus:!0},void 0,d)))}function aa(e,t,a){if(null===e)return null;if(null===t)return null;if(null===a)return null;var n=new l.BigNumber(e),r=new l.BigNumber(10).pow(a);return"0x"+n.times(r).integerValue().toString(16)}function na(e,t,a,n){var[r,o]=(0,u.useState)(null),l=Re(a,n),i=function(e,t,a){var[n,r]=(0,u.useState)(null);return(0,u.useEffect)((()=>{var n=aa(e,t,a);null!==n&&r(n)}),[e,t,a]),n}(t,a,l),s=function(e,t,a){var[n,r]=(0,u.useState)(null);return(0,u.useEffect)((()=>{if(null!==e&&null!==t&&null!==a)if(""!==e)if(""!==t){var n=function(){var n=(0,ce.Z)((function*(){var n=yield Ze();if(null!==n){var{erc20_abi:o}=window.ethereumWallet;if(null!==o){var l=JSON.parse(o),i=new n.eth.Contract(l,e).methods.transfer(t,a).encodeABI();r(i)}}}));return function(){return n.apply(this,arguments)}}();n()}else r(null);else r(null)}),[e,t,a]),n}(a,e,i);return(0,u.useEffect)((()=>{null!==e&&null!==t&&null!==a&&null!==n&&o(""!==a?s:null)}),[e,t,a,s]),r}function ra(e,t,a,n,r,o){var[i,s]=(0,u.useState)(null);return(0,u.useEffect)((()=>{if(null!==e&&null!==t&&""!==t&&null!==a&&""!==a&&null!==o&&null!==r){var i=function(){var i=(0,ce.Z)((function*(){try{var i=yield o.eth.getBlock("latest"),u={from:e,to:t,value:"0x"+new l.BigNumber(a).toString(16),data:n,chainId:"0x"+r.toString(16),gas:i.gasLimit},c=yield o.eth.estimateGas(u);s(parseInt(c))}catch(r){console.log(r,{account:e,to:t,value:new l.BigNumber(a).toString(10),data:n})}}));return function(){return i.apply(this,arguments)}}();i()}}),[e,t,a,n,o]),i}function oa(e,t,a){var[n,r]=(0,u.useState)(null);return(0,u.useEffect)((()=>{if(null!==e&&null!==t&&null!==a){var n=function(){var a=(0,ce.Z)((function*(){try{var a=yield t.eth.getTransactionCount(e);r(parseInt(a))}catch(e){console.log(e)}}));return function(){return a.apply(this,arguments)}}();n()}}),[e,t,a]),n}function la(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ia(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?la(Object(a),!0).forEach((function(t){(0,ne.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):la(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function sa(e,t,a,n,r,o,i,s,c){var[d,p]=(0,u.useState)(null);return(0,u.useEffect)((()=>{if(null!==e&&null!==t&&null!==a&&null!==r&&null!==o&&null!==s&&null!==c){var u=null!==i,d=new l.BigNumber(new l.BigNumber(o).times(1e9).integerValue()),m={from:e,to:t,value:"0x"+new l.BigNumber(a).toString(16),data:n,gas:"0x"+new l.BigNumber(s).toString(16),nonce:"0x"+r.toString(16),chainId:"0x"+c.toString(16)};m=ia(u?{maxFeePerGas:"0x"+new l.BigNumber(i).plus(d).toString(16),maxPriorityFeePerGas:"0x"+d.toString(16)}:{gasPrice:"0x"+d.toString(16)},m),p(m)}}),[e,t,a,n,r,o,i,s,c]),d}a(2707);function ua(e,t){var[a,n]=(0,u.useState)(null);return(0,u.useEffect)((()=>{if(null!==e&&null!==t){var a=function(){var t=(0,ce.Z)((function*(){var t=void 0!==(yield e.eth.getBlock("latest")).baseFeePerGas;n(t)}));return function(){return t.apply(this,arguments)}}();a()}}),[e,t]),a}a(65069);var ca=[];function da(){return(da=(0,ce.Z)((function*(e,t){var a=Math.floor((new Date).getTime()/1e4);if(0===ca.length)ca.push({tm:a,promise:pa(e,t)});else if(ca[ca.length-1].tm<a){var n=!1;ca[ca.length-1].promise.then((()=>{n=!0})),n&&(ca=[{tm:a,promise:pa(e,t)}])}return ca[ca.length-1].promise}))).apply(this,arguments)}function pa(e,t){return ma.apply(this,arguments)}function ma(){return(ma=(0,ce.Z)((function*(e,t){return fa(e,"latest",t)}))).apply(this,arguments)}function fa(e,t,a){return ha.apply(this,arguments)}function ha(){return(ha=(0,ce.Z)((function*(e,t,a){var n=yield a.getFeeHistory(300,t);console.log("feeHistory:",n);for(var r=[],o=[],l=0;l<n.baseFeePerGas.length;l++)r.push(parseInt(n.baseFeePerGas[l])),o.push(l);r[r.length-1]*=9/8;for(var i=n.gasUsedRatio.length-1;i>=0;i--)n.gasUsedRatio[i]>.9&&(r[i]=r[i+1]);o.sort((function(e,t){return r[e]-r[t]}));for(var s=yield va(parseInt(n.oldestBlock),n.gasUsedRatio,a),u=[],c=0,d=e;d>=1;d/=2){var p=ga(s,d),m=ya(r,o,d-1),f=0;m>c?c=m:(f=.25*(c-m),m=c),u.push({timeFactor:d,maxFeePerGas:Math.ceil(m+p),maxPriorityFeePerGas:Math.ceil(p+f)})}return u.reverse(),console.log("feeSuggestions:",u),u}))).apply(this,arguments)}function ga(e,t){return 0===e.length?2e9:e[Math.floor((e.length-1)*(40+30/t)/100)]}function va(e,t,a){return Za.apply(this,arguments)}function Za(){return(Za=(0,ce.Z)((function*(e,t,a){for(var n=[],r=0;r<=20;r++)n.push(r);for(var o=t.length-1,l=5,i=[];l>0&&o>=0;){var s=ba(t,o,l);if(s>0){console.log("suggestPriorityFee:",{blockCount:"0x"+s.toString(16),firstBlock:e,firstBlockPtr:e+o,percentiles:n});try{for(var u=yield a.getFeeHistory("0x"+s.toString(16),e+o,n),c=0;c<u.reward.length;c++)for(var d=0;d<=20;d++){var p=parseInt(u.reward[c][d]);p>0&&i.push(p)}if(u.reward.length<s)break}catch(e){console.log(e)}l-=s}o-=s+1}return i.sort((function(e,t){return e-t})),i}))).apply(this,arguments)}function ba(e,t,a){for(var n=0;a>0&&t>=0&&!(0===e[t]||e[t]>.9);)t--,a--,n++;return n}function ya(e,t,a){if(a<1e-6)return e[e.length-1];for(var n=(1-Math.exp(-1/a))/(1-Math.exp(-e.length/a)),r=0,o=0,l=0,i=0;i<t.length;i++){var s=_a(100*(r+=n*Math.exp((t[i]-e.length+1)/a)));if(o+=(s-l)*e[t[i]],s>=1)return o;l=s}return o}function _a(e){return e<=10?0:e>=30?1:(1-Math.cos(2*(e-10)*Math.PI/20))/2}function wa(e,t){var[a,n]=(0,u.useState)(null),r=ua(e,t);return(0,u.useEffect)((()=>{if(null!==e&&null!==t)if(r){var a=function(){var a=(0,ce.Z)((function*(){var a=yield function(e,t){return da.apply(this,arguments)}(128,e.eth,t);n(a)}));return function(){return a.apply(this,arguments)}}();a()}else n(null)}),[e,t]),a}function xa(e,t){var[a,n]=(0,u.useState)(null),r=ua(e,t),o=function(e,t){var[a,n]=(0,u.useState)(null);return(0,u.useEffect)((()=>{if(null!==e&&null!==t){var a=function(){var t=(0,ce.Z)((function*(){var t=yield e.eth.getBlock("latest"),a=void 0!==t.baseFeePerGas?t.baseFeePerGas:0;n(a)}));return function(){return t.apply(this,arguments)}}();a()}}),[e,t]),a}(e,t),l=wa(e,t),i=r&&null!==l?l.sort(((e,t)=>t.maxFeePerGas-e.maxFeePerGas))[0].maxFeePerGas:null,s=r&&null!==l?l.sort(((e,t)=>t.maxPriorityFeePerGas-e.maxPriorityFeePerGas))[0].maxPriorityFeePerGas:null;return(0,u.useEffect)((()=>{if(null!==e&&null!==t)if(null!==l){var a=function(){var t=(0,ce.Z)((function*(){var t={slow:5,safe:5,fast:5,maxFeePerGas:null};if(r)t={slow:s/1e9,safe:s/1e9,fast:s/1e9,maxFeePerGas:i};else{var a=yield e.eth.getGasPrice(),o=(parseInt(a.toString(10)),parseInt(a.toString(10))/1e9);t={slow:o,safe:1.2*o,fast:1.5*o,maxFeePerGas:null}}n(t)}));return function(){return t.apply(this,arguments)}}();a()}else{var u=function(){var t=(0,ce.Z)((function*(){var t={slow:5,safe:5,fast:5,maxFeePerGas:null},a=yield e.eth.getGasPrice(),l=(parseInt(a.toString(10)),parseInt(a.toString(10))/1e9);t=r?{slow:l,safe:1.2*l,fast:1.5*l,maxFeePerGas:Math.ceil(1.2*o)}:{slow:l,safe:1.2*l,fast:1.5*l,maxFeePerGas:null},n(t)}));return function(){return t.apply(this,arguments)}}();u()}}),[e,t,o,l,r,i,s]),a}var Sa,Na,Ca=JSON.parse('[{"inputs":[],"name":"implementation","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function"}]'),Ta={};function ka(e,t,a,n){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,ce.Z)((function*(e,t,a,n){return null===e||null===t?(console.log("contractAddress:",e),null):null===a?(console.log("methodSignature:",a),null):null===n?null:(void 0===Ta[e]&&(Ta[e]=Ha(e,t,a,n)),Ta[e])}))).apply(this,arguments)}function Ha(e,t,a,n){return ja.apply(this,arguments)}function ja(){return(ja=(0,ce.Z)((function*(e,t,a,n){try{var r=e;if(!(yield Pe(e,a,n))){if(!(yield Pe(e,"implementation()",n)))return console.log("No tokenURI method for",e,a,"implementation()"),null;try{var o=new n.eth.Contract(Ca,e);if("0x0000000000000000000000000000000000000000"===(r=yield o.methods.implementation().call()))return console.log("No implementation contract found for",e,r),null}catch(e){console.log("_getContract:",e)}}return new n.eth.Contract(t,r)}catch(e){console.log("_getContract:",e)}return null}))).apply(this,arguments)}function Pa(e,t,a){var{tokens:n,updatetimeout:l}=e,i=1e3*parseInt(l),[s,c]=(0,u.useState)(Math.floor((new Date).getTime()/i));(0,ue.Z)((()=>{c(Math.floor((new Date).getTime()/i))}),1e3);var{str_sendform_to_field_placeholder:d,str_sendform_to_field_label:p,str_sendform_input_dialog_title:m,str_sendform_input_amount_dialog_title:f,str_sendform_amount_field_placeholder:h,str_amount_field_label:g,str_send_tx_button_label:v,str_alert_dlg_title:Z,str_confirm_dlg_title:y,str_token_send_confirm_msg:_,user_wallet_address:w,wp_rest_nonce:x,gasPrice:S}=window.ethereumWallet,[N,C]=u.useState(0),T=JSON.parse(n),k=xa(a,s),E=T.length>0?T[N]:null,j=T.filter((e=>""===e.address)),P=j.length>0?j[0].exchangerate:null,{address:V,symbol:F,fiatCurrencySymbol:O,exchangerate:M,balance:A,iconpath:R,fiaticonpath:D}=E,[W,U]=(0,u.useState)(0),[B,L]=(0,u.useState)(null),[z,G]=u.useState(null),X=Re(V,a),q=function(e,t,a){var[n,r]=(0,u.useState)(null);return(0,u.useEffect)((()=>{if(null!==e&&null!==t&&null!==a)if(""===t){var n=aa(e,t,a);if(null===n)return void console.log("useValue: tokenAmount is null");r(n)}else r(0)}),[e,t,a]),n}(W,V,X),$=""===V?B:V,J=na(B,W,V,a),[K,Y]=(0,u.useState)(null);(0,u.useEffect)((()=>{Y(J)}),[J]);var Q=oa(w,a,s),[ee,te]=(0,u.useState)(null);(0,u.useEffect)((()=>{te(Q)}),[Q]),(0,u.useEffect)((()=>{null!==k&&null===z&&(console.log("setGasPrice:",k.safe),G(parseFloat(k.safe)))}),[k]);var ae=_e(a),ne=ra(w,$,q,K,ae,a),[re,oe]=(0,u.useState)(null);(0,u.useEffect)((()=>{oe(ne)}),[ne]);var le=sa(w,$,q,K,ee,z,null!==k?k.maxFeePerGas:null,re,ae),[ie,se]=(0,u.useState)(null),[de,pe]=(0,u.useState)(null),[me,fe]=(0,u.useState)(!1),[he,ge]=(0,u.useState)(""),[ve,Ze]=(0,u.useState)(!1),[be,ye]=(0,u.useState)(""),xe=function(){var e=(0,ce.Z)((function*(){if(null!==le)try{if(""!==V){var{erc1404_abi:e}=window.ethereumWallet;if(null!==e)if(null!==(yield ka(V,e,"detectTransferRestriction(address,address,uint256)",a))){var t=yield contract.methods.detectTransferRestriction(from,$,q.toString()).call(),n=new BigNumber(t).toString(10);if("0"!==n){console.log("restrictionCode:",n,", typeof restrictionCode:",typeof n);var r=yield contract.methods.messageForTransferRestriction(n).call();return console.log(r),ge(r),void fe(!0)}}}console.log("txObject:",le),we(yield Ee(le),a,function(){var e=(0,ce.Z)((function*(e){console.log(e),se(e),pe(0),c((new Date).getTime())}));return function(t){return e.apply(this,arguments)}}(),(function(e){pe(1)}),(function(e){console.log(e),ge(e.message),fe(!0)}))}catch(e){console.error(e),ge(e.message),fe(!0)}}));return function(){return e.apply(this,arguments)}}();return(0,r.Z)(u.Fragment,{},void 0,(0,r.Z)(Qt,{lastTxHash:ie,lastTxConfirmations:de}),(0,r.Z)(H,{title:Z,message:he,open:me,onClose:()=>{fe(!1)}}),(0,r.Z)(ta,{title:y,message:be,open:ve,onConfirm:()=>{Ze(!1),xe()},onCancel:()=>{Ze(!1)}}),(0,r.Z)(I.Z,{container:!0,justifyContent:"center",spacing:1},void 0,(0,r.Z)(I.Z,{xs:12,item:!0},"token-selector",(0,r.Z)(ct,{tokens:n,selectedIndex:N,setSelectedIndex:C})),(0,r.Z)(I.Z,{xs:12,item:!0},"recipient-address",(0,r.Z)(nt,{placeholder:d,label:p,inputDialogTitle:m,validate:e=>{if(null===e)return!1;try{a.utils.toChecksumAddress(e)}catch(t){return console.error("invalid ethereum address",e,t.message),!1}return!0},value:B,setValue:L,InputLabelProps:{required:!0}})),(0,r.Z)(I.Z,{xs:12,item:!0},"currency-amount",(0,r.Z)(yt,{placeholder:h,label:g,inputDialogTitle:f,validate:e=>null!==e&&!isNaN(e),fiatCurrencySymbol:O,cryptoCurrencySymbol:F,exchangerate:M,balance:A,iconpath:R,fiaticonpath:D,value:W,setValue:U,gasPrice:null!==z?z:S,maxFeePerGas:null!==k?k.maxFeePerGas:null,gasLimit:re,decimals:X})),(0,r.Z)(I.Z,{xs:12,item:!0},"gas-price",(0,r.Z)(Et,{value:null!==z?z:S,setValue:G,gasLimit:re,exchangerate:P,fiatCurrencySymbol:O,gasPriceEstimate:k})),(0,r.Z)(I.Z,{xs:12,item:!0},"advanced-panel",(0,r.Z)(Lt,{address:V,expandedInitial:!1,data:K,setData:Y,nonce:ee,nonceInitial:Q,setNonce:te,gasLimit:re,gasLimitInitial:ne,setGasLimit:oe})),(0,r.Z)(I.Z,{xs:12,item:!0,container:!0},"send-tx-button",Sa||(Sa=(0,r.Z)(I.Z,{xs:!1,sm:6,item:!0,container:!0},"send-tx-button-empty")),(0,r.Z)(I.Z,{xs:12,sm:6,item:!0,container:!0},"send-tx-button-body",(0,r.Z)(b.Z,{onClick:()=>{ye((0,o.sprintf)(_,W,F,B)),Ze(!0)},disabled:!(null!==le&&null!==B&&""!==B),size:"large",variant:"contained",color:"secondary",justify:"flex-end","aria-label":(0,o.sprintf)(v,F),title:(0,o.sprintf)(v,F),classes:{root:t.button},startIcon:Na||(Na=(0,r.Z)(ze.Z,{}))},void 0,(0,o.sprintf)(v,F))))))}function Va(e){var{paper:t}=e,{user_wallet_address:a}=window.ethereumWallet,n=ye(),o=(0,m.Z)((e=>({paper:{padding:e.spacing(2)},button:{width:"100%!important"}}))),l=o();return""===t?(0,r.Z)(oe.Z,{component:"span",className:l.paper},void 0,(0,r.Z)(oe.Z,{component:"span",className:"ethereum-wallet-sendform-content"},void 0,Pa(e,l,n))):(0,r.Z)(re.Z,{className:l.paper},void 0,(0,r.Z)(oe.Z,{component:"span",className:"ethereum-wallet-sendform-content"},void 0,Pa(e,l,n)))}var Fa=a(43031),Ia=a(55517),Oa=JSON.parse('{"0xa9059cbb":"transfer(address,uint256)","0x095ea7b3":"approve(address,uint256)","0x23b872dd":"transferFrom(address,address,uint256)","0x42842e0e":"safeTransferFrom(address,address,uint256)","0x42966c68":"burn(uint256)","0xa22cb465":"setApprovalForAll(address,bool)","0xb88d4fde":"safeTransferFrom(address,address,uint256,bytes)","0xd3fc9864":"mint(address,uint256,string)","0x40c10f19":"mint(address,uint256)"}'),Ma=a.t(Oa,2);const Aa={info:e=>{},debug:e=>{},error:console.log,log:e=>{}};class Ra{constructor({capacity:e=60,timeout:t,interval:a=6e4}={}){isNaN(t)&&(t=a),this.queue=[],this.totalCost=0,this.currentCapacity=e,this.lastRefill=null,this.setCapacity(e),this.setTimeout(t),this.setInterval(a)}async throttle(e=1,t=!0,a=!1){const n=this.getCurrentMaxCapacity();if(t&&this.totalCost+e>n)throw Aa.warn(`Rejecting item because the bucket is over capacity! Current max capacity: ${n}, Total cost of all queued items: ${this.totalCost}, item cost: ${e}`),new Error(`Cannot throttle item, bucket is overflowing: the maximum capacity is ${n}, the current total capacity is ${this.totalCost}!`);return new Promise(((n,r)=>{const o={resolve:n,reject:r,cost:e,isPause:a};this.totalCost+=e,t?(this.queue.push(o),Aa.debug(`Appended an item with the cost of ${e} to the queue`)):(this.queue.unshift(o),Aa.debug(`Added an item to the start of the queue with the cost of ${e} to the queue`),this.cleanQueue()),this.startTimer()}))}startTimer(){if(!this.timer&&this.queue.length>0){const e=this.getFirstItem();if(Aa.debug(`Processing an item with the cost of ${e.cost}`),this.refill(),this.currentCapacity>=e.cost)e.resolve(),Aa.info(`Resolved an item with the cost ${e.cost}`),this.shiftQueue(),this.pay(e.cost),this.startTimer();else{const t=e.cost+-1*this.currentCapacity,a=t/this.refillRate*1e3;Aa.info(`Waiting ${a} for topping up ${t} capacity until the next item can be processed ...`),this.timer=setTimeout((()=>{this.timer=0,this.startTimer()}),a)}}}shiftQueue(){this.queue.shift(),0===this.queue.length&&this.emptyPromiseResolver&&this.emptyPromiseResolver()}async isEmpty(){return this.emptyPromiseResolver||(this.emptyPromise=new Promise((e=>{this.emptyPromiseResolver=()=>{this.emptyPromiseResolver=null,this.emptyPromise=null,e()}}))),this.emptyPromise}end(){Aa.warn("Ending bucket!"),this.stopTimer(),this.clear()}clear(){Aa.debug("Resetting queue"),this.queue=[]}pay(e){Aa.debug(`Paying ${e}`),this.currentCapacity-=e,this.totalCost-=e,null===this.lastRefill&&(this.lastRefill=Date.now())}stopTimer(){this.timer&&(Aa.debug("Stopping timer"),clearTimeout(this.timer),this.timer=null)}refill(){if(this.currentCapacity<this.capacity){const e=(Date.now()-this.lastRefill)/1e3*this.refillRate;this.currentCapacity+=e,Aa.debug(`Refilled the bucket with ${e}, last refill was ${this.lastRefill}, current Date is ${Date.now()}, diff is ${Date.now()-this.lastRefill} msec`),this.currentCapacity>=this.capacity?(this.currentCapacity=this.capacity,this.lastRefill=null,Aa.debug("Buckets capacity is fully recharged")):this.lastRefill=Date.now()}}getCurrentMaxCapacity(){return this.refill(),this.maxCapacity-(this.capacity-this.currentCapacity)}cleanQueue(){const e=this.getCurrentMaxCapacity();let t=0;const a=this.queue.findIndex((a=>(t+=a.cost,t>e)));a>=0&&this.queue.splice(a).forEach((e=>{e.isPause||(Aa.warn(`Rejecting item with a cost of ${e.cost} because an item was added in front of it!`),e.reject(new Error("Cannot throttle item because an item was added in front of it which caused the queue to overflow!")),this.totalCost-=e.cost)}))}getFirstItem(){return this.queue.length>0?this.queue[0]:null}pauseByCost(e){this.stopTimer(),Aa.debug(`Pausing bucket for ${e} cost`),this.throttle(e,!1,!0)}pause(e=1){this.drain(),this.stopTimer();const t=this.refillRate*e;Aa.debug(`Pausing bucket for ${e} seonds`),this.pauseByCost(t)}drain(){Aa.debug(`Draining the bucket, removing ${this.currentCapacity} from it, so that the current capacity is 0`),this.currentCapacity=0,this.lastRefill=Date.now()}setTimeout(e){return Aa.debug(`the buckets timeout is now ${e}`),this.timeout=e,this.updateVariables(),this}setInterval(e){return Aa.debug(`the buckets interval is now ${e}`),this.interval=e,this.updateVariables(),this}setCapacity(e){return Aa.debug(`the buckets capacity is now ${e}`),this.capacity=e,this.updateVariables(),this}updateVariables(){this.maxCapacity=(this.timeout||1)/(this.interval||1)*(this.capacity||1),this.refillRate=(this.capacity||1)/(this.interval||1),Aa.debug(`the buckets max capacity is now ${this.maxCapacity}`),Aa.debug(`the buckets refill rate is now ${this.refillRate}`)}}class Da extends Error{}const Wa={info:e=>{},debug:e=>{},error:console.log,log:e=>{}};a(34079);var Ua=new(a(70321))({stdTTL:10,checkperiod:12}),Ba=new class{constructor({backoffTime:e=10,requestRate:t=60,interval:a=60,timeout:n=600}={}){this.backoffTime=e,this.requestRate=t,this.interval=a,this.timeout=n,Wa.info(`Setting up a request rate limiter with the request rate ${t}, an interval of ${a}, a timeout of ${n} and a backoff time of ${e}`),this.bucket=new Ra({capacity:this.requestRate,interval:this.interval,timeout:this.timeout})}async idle(){return this.bucket.isEmpty()}async request(e){Wa.info("throttling request");const t=async()=>(Wa.debug("Executing request"),await this.bucket.throttle(),await this.executeRequest(e).then((e=>(Wa.debug("Request was sucessfull"),e))).catch((async e=>{if(e instanceof Da)return Wa.debug(`Backing off for ${this.backoffTime}`),this.bucket.pause(this.backoffTime),await t();throw Wa.error(`The request failed with the error ${e.message}`),e})));return await t()}async executeRequest(e){if(!this.requestHandler)throw new Error("No request handler present! Please register on using the setRequestHandler method!");return await this.requestHandler(e)}setRequestHandler(e){if("function"==typeof e)this.requestHandler=e;else{if("object"!=typeof e||"function"!=typeof e.request)throw new Error("Invalid request handler. Expected a function or an object with a request method!");this.requestHandler=async t=>await e.request(t)}}}({backoffTime:1,requestRate:5,interval:1,timeout:15});function La(e,t){var[a,n]=(0,u.useState)(null);return(0,u.useEffect)((()=>{if(null!==e&&null!==t){var a=function(){var t=(0,ce.Z)((function*(){if(Ua.has(e)){var t=yield Ua.get(e);n(t)}else{var a=Ba.request(e);Ua.set(e,a);var r=yield a;""!==r&&n(r)}}));return function(){return t.apply(this,arguments)}}();a()}}),[e,t]),a}Ba.setRequestHandler(new class{request(e){return(0,ce.Z)((function*(){try{var t=e,a=yield fetch(t,{method:"GET",headers:{Accept:"application/json"}});if(!a.ok)return console.log("useEtherscanAPI(",t,"): !response.ok,",a.status),null;var n=yield a.json();if("0"===n.status&&"No transactions found"===n.message)return[];if("0"===n.status&&"NOTOK"===n.message&&"Max rate limit reached"===n.result)throw new BackoffError("Max rate limit reached");return"1"!==n.status?(console.log("useEtherscanAPI(",t,"):",n.message,n),null):n.result}catch(e){if(void 0!==e.getMessage&&"Max rate limit reached"===e.getMessage())throw e;if("string"==typeof e&&"Max rate limit reached"===e)throw new Error(e);console.log("useEtherscanAPI(",url,"):",e)}return null}))()}});function za(){return(za=(0,ce.Z)((function*(e,t,a,n,r){if(null===e)return null;if(null===t)return console.log("getSendERC721TokenData: !from"),null;if(null===a)return console.log("getSendERC721TokenData: !to"),null;if(null===n)return console.log("getSendERC721TokenData: !tokenID"),null;if(null===r)return console.log("getSendERC721TokenData: !web3"),null;var{erc721_abi:o}=window.ethereumWallet;if(null===o)return null;var l=JSON.parse(o),i=yield ka(e,l,"transferFrom(address,address,uint256)",r);return null===i?null:i.methods.transferFrom(t,a,n).encodeABI()}))).apply(this,arguments)}function Ga(e,t,a,n,r){var[o,l]=(0,u.useState)(null);return(0,u.useEffect)((()=>{var o=function(){var o=(0,ce.Z)((function*(){try{var o=yield function(e,t,a,n,r){return za.apply(this,arguments)}(e,t,a,n,r);l(o)}catch(e){console.log(e)}}));return function(){return o.apply(this,arguments)}}();o()}),[e,t,a,n,r]),o}a(19601),a(85827);var Xa=(e,t)=>t.map((t=>((e,t)=>Object.assign(e,t))(e,t)));function qa(e,t){var[a,n]=(0,u.useState)(null);return(0,u.useEffect)((()=>{var a=function(){var a=(0,ce.Z)((function*(){var a=function(e,t){return null===e||null===t?null:new l.BigNumber(e).div(new l.BigNumber(10).pow(t)).toString(10)}(e,t);null!==a&&n(a)}));return function(){return a.apply(this,arguments)}}();a()}),[e,t]),a}var $a,Ja,Ka=["onClose","onChange","value"],Ya=(0,m.Z)((e=>({dialog:{},dialogTitle:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500],boxShadow:"none"},dialogContent:{padding:e.spacing(2)},dialogActions:{margin:0,padding:e.spacing(1)},paperScrollPaper:{},button:{},scanButton:{margin:e.spacing(1),marginRight:"0px",padding:e.spacing(1),minWidth:"inherit!important"},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20},textField:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}})));function Qa(e){var t=Ya(),{onClose:a,onChange:n,value:o}=e,l=(0,V.Z)(e,Ka),[i,s]=(0,u.useState)(o),[c,d]=(0,u.useState)(!1),{str_account_dlg_title:p}=window.ethereumWallet,m=()=>{c?d(!1):n(i)},h=()=>{c?d(!1):a()},v=function(){var e=(0,ce.Z)((function*(e){(yield Ze()).utils.isAddress(e)?(s(e),d(!1)):console.log("handleScan isAddress NOT OK:",e)}));return function(t){return e.apply(this,arguments)}}();return u.createElement(_.Z,(0,P.Z)({classes:{root:t.dialog,scrollBody:t.dialog,paper:t.dialog,paperScrollPaper:t.paperScrollPaper},fullWidth:!0,maxWidth:"sm",onClose:h,"aria-labelledby":"account-dialog-title"},l),(0,r.Z)(N.Z,{id:"account-dialog-title",disableTypography:!0,classes:{root:t.dialogTitle}},void 0,(0,r.Z)(k.Z,{variant:"h6"},void 0,p),(0,r.Z)(T.Z,{"aria-label":"close",className:t.closeButton,onClick:h},void 0,Ja||(Ja=(0,r.Z)(C.Z,{})))),(0,r.Z)(x.Z,{dividers:!0,classes:{root:t.dialogContent}},void 0,function(e,t,a,n,o,l,i,s,c){if(o)return(0,r.Z)(qe.Z,{delay:l,className:c.qrReader,onError:i,onScan:s});var{str_account_dlg_content:d,str_account_dlg_address_field_label:p,str_account_dlg_qrcode_button_label:m}=window.ethereumWallet;return(0,r.Z)(u.Fragment,{},void 0,(0,r.Z)(S.Z,{},void 0,d),(0,r.Z)(f.Z,{id:"account-address",label:p,value:null===e?"":e,className:c.textField,autoFocus:!0,margin:"dense",variant:"standard",fullWidth:!0,onChange:t,onKeyDown:e=>{13===e.keyCode&&a()},InputProps:{endAdornment:(0,r.Z)(b.Z,{onClick:()=>{n(!0)},size:"small",variant:"contained",color:"secondary","aria-label":m,title:m,classes:{root:c.scanButton}},void 0,$a||($a=(0,r.Z)(g.Z,{},void 0,(0,r.Z)("path",{d:"M3,11H5V13H3V11M11,5H13V9H11V5M9,11H13V15H11V13H9V11M15,11H17V13H19V11H21V13H19V15H21V19H19V21H17V19H13V21H11V17H15V15H17V13H15V11M19,19V15H17V19H19M15,3H21V9H15V3M17,5V7H19V5H17M3,3H9V9H3V3M5,5V7H7V5H5M3,15H9V21H3V15M5,17V19H7V17H5Z"}))))}}))}(i,(e=>{s(e.target.value)}),m,d,c,500,(e=>{console.log(e)}),v,t)),(0,r.Z)(w.Z,{classes:{root:t.dialogActions}},void 0,function(e,t,a){var n,{str_account_dlg_ok_button_label:o,str_account_dlg_cancel_button_label:l}=window.ethereumWallet;return t?(0,r.Z)(b.Z,{variant:"contained",color:"primary",className:a.button,onClick:e},void 0,(0,r.Z)(k.Z,{variant:"button"},void 0,l),(0,r.Z)(Xe.Z,{className:a.rightIcon})):(0,r.Z)(b.Z,{variant:"contained",color:"primary",className:a.button,onClick:e},void 0,n||(n=(0,r.Z)(k.Z,{variant:"button"},void 0,o)),(0,r.Z)(ze.Z,{className:a.rightIcon}))}(m,c,t)))}var en=a(30381),tn=a.n(en);function an(e){var{wp_rest_url:t}=window.ethereumWallet,[a,n]=(0,u.useState)(null);return(0,u.useEffect)((()=>{if(null!==e){var a=function(){var a=(0,ce.Z)((function*(){try{var a=t+"ethereumwallet/v1/user_by_wallet/"+e,r=yield fetch(a,{method:"GET",headers:{Accept:"application/json"}});if(!r.ok)return void console.log("useUserInfo(",a,"): !response.ok,",r.status);var o=yield r.json();void 0!==o.userName&&n(o)}catch(e){console.log("useUserInfo error:",e)}}));return function(){return a.apply(this,arguments)}}();a()}}),[e]),a}a(15306),a(41817);var nn=a(18463),rn=a(51907),on=a(79912),ln=a(951),sn=a(94697),un=a(66081),cn=a(86010),dn=a(66037),pn=a(33901),mn=a(20907),fn=a(59529);function hn(e,t,a){var n=(0,de.Z)(),[r,o]=(0,u.useState)(null),{ipfs_gateway_url:l,erc721_abi:i}=window.ethereumWallet,s=JSON.parse(i),c=function(e,t,a,n){var r=(0,de.Z)(),[o,l]=(0,u.useState)(null);return(0,u.useEffect)((()=>{if(null!==e)if(null!==t)if(null!==a){if(null!==n){var o=function(){var o=(0,ce.Z)((function*(){try{var o=yield ka(e,t,a,n);r()&&l(o)}catch(e){console.log(e)}}));return function(){return o.apply(this,arguments)}}();o()}}else console.log("methodSignature:",a);else console.log("contractAddress:",e);else console.log("contractAddress:",e)}),[e,t,a,n]),o}(e,s,"tokenURI(uint256)",a);return(0,u.useEffect)((()=>{if(null!==e&&null!==t&&null!==a&&null!==c&&null!==i){var r=function(){var a=(0,ce.Z)((function*(){try{var a=yield c.methods.tokenURI(t).call();console.log("tokenURI:",a,"for",e,t),n()&&o((e=>{var{ipfs_gateway_url:t}=window.ethereumWallet;return-1===e.indexOf("://")&&-1===e.indexOf("data:application/json;base64")?t+e:e.replace("ipfs://",t)})(a))}catch(e){console.log(e)}}));return function(){return a.apply(this,arguments)}}();r()}}),[e,t,a,c]),r}var gn,vn,Zn,bn,yn={};function _n(){return(_n=(0,ce.Z)((function*(e){if(null===e)return null;if(void 0!==yn[e])return yn[e];var t=e.split(".").pop();return"mp4"===t||"m4a"===t||"f4v"===t||"m4b"===t||"mov"===t?(yn[e]="video",yn[e]):new Promise(((t,a)=>{var n=new Image;n.onload=function(){yn[e]="img",t(yn[e])},n.onerror=function(){yn[e]="video",t(yn[e])},n.src=e}))}))).apply(this,arguments)}function wn(e){var t=(0,de.Z)(),[a,n]=(0,u.useState)(null);return(0,u.useEffect)((()=>{if(null!==e){var a=function(){var a=(0,ce.Z)((function*(){try{var a=yield function(e){return _n.apply(this,arguments)}(e);t()&&n(a)}catch(e){console.log(e)}}));return function(){return a.apply(this,arguments)}}();a()}else console.log("path:",e)}),[e]),a}var xn=(0,m.Z)((e=>({card:{},media:{width:256,height:256,maxWidth:256,maxHeight:256,marginLeft:"auto",marginRight:"auto"},button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20},description:{marginBottom:"0px!important",textTransform:"none!important",whiteSpace:"normal!important",marginTop:e.spacing(3)},accountAddress:{marginBottom:"0px!important",textTransform:"none!important"},title:{color:"#fff",overflowWrap:"anywhere"},avatar:{backgroundColor:mn.Z[500]},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},subheader:{color:"rgba(255, 255, 255, 0.54)"},header:{background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},right:{textAlign:"right"}})));function Sn(e){var{addressPathTemplate:t}=window.ethereumWallet;return(0,o.sprintf)(t,e)}function Nn(e,t){if(e&&e.external_url)return e.external_url;var{blockchain_network:a}=window.ethereumWallet;return"rinkeby"===a?(0,o.sprintf)("https://testnets.opensea.io/assets/%s/%s",t.contractAddress,t.tokenID):(0,o.sprintf)("https://opensea.io/assets/%s/%s",t.contractAddress,t.tokenID)}function Cn(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent||""}var Tn=e=>{var{ipfs_gateway_url:t}=window.ethereumWallet;return-1===e.indexOf("://")&&-1===e.indexOf("data:image/svg+xml;base64")?t+e:e.replace("ipfs://",t)};function kn(e){var{account:t,traits:a,value:n,web3:o,setAccountDialogOpen:l,setNFTForSending:i,setConfirmDialogMessage:s,setConfirmDialogAction:c,setConfirmDialogOpen:d,setProgressMessage:p,setAlertDialogMessage:m,setAlertDialogOpen:f}=e,{title:h,tokenName:g,image:v,contractAddress:Z,tokenID:b,description:y}=n,{str_contract_address_template:_,str_token_id_template:w,str_nft_token_sell_not_capable_msg:x,str_nft_token_resell_redirect_waiting_msg:S,str_nft_token_resell_redirect_error_msg:N,user_wallet_address:C,wp_rest_nonce:E,isNFTPluginActive:H,canListProducts:j,vendorDashboardPageUrl:P}=window.ethereumWallet,V=xn(),[F,O]=(0,u.useState)(!1),M=function(e,t){var{contractAddress:a,tokenID:n}=e,[r,o]=((0,de.Z)(),(0,u.useState)(null)),l=hn(a,n,t);return(0,u.useEffect)((()=>{if(null!==a&&null!==n&&null!==l&&null!==t&&""!==l){var e=function(){var e=(0,ce.Z)((function*(){var e=l;try{var t=yield fetch(e);if(!t.ok){console.log("!response.ok"),console.log("url:",e),console.log("status:",t.status);var a=yield t.text();return void console.log("text:",a)}var n=yield t.json();o(n)}catch(t){console.log("Error for",e,":",t)}}));return function(){return e.apply(this,arguments)}}();e()}}),[l,a,n,t]),r}(n,o),A=()=>{console.log("redirectURL:",P),window.location.href=P},R=function(){var e=(0,ce.Z)((function*(){if(C.toUpperCase()===t.toUpperCase()){if(!j)return console.log("handleSellClick: !canListProducts"),s(x),c({fn:A}),void d(!0);p(S);try{var e=yield fetch("/wp-json/nft/v1/put_token_on_sale",{method:"POST",headers:{Accept:"text/plain","Content-type":"application/x-www-form-urlencoded"},dataType:"text",body:ke({contractAddress:Z,tokenID:b,_wpnonce:E})});if(null===e||'""'===e)return console.error("handleSellClick error: empty result"),m(N),f(!0),void p(null);var a=yield e.text();if('""'===a)return console.error("handleSellClick error: empty result"),m(N),f(!0),void p(null);var n=(o='"',0===(r=a).length||(r.charAt(0)===o&&(r=r.substring(1)),0===r.length||r.charAt(r.length-1)===o&&(r=r.substring(0,r.length-1))),r);console.log("redirectURL2:",n),window.location.href=n}catch(e){console.log("handleSellClick:",e),m(N),f(!0),p(null)}var r,o}else console.log("handleSellClick: user_wallet_address != account:",C,t)}));return function(){return e.apply(this,arguments)}}(),D=Tn(M?M.image:n.image),W=wn(D);return(0,r.Z)(nn.Z,{className:V.card},void 0,(0,r.Z)(sn.Z,{className:V.header,avatar:(0,r.Z)(pn.Z,{"aria-label":"recipe",className:V.avatar},void 0,Cn(M?M.name:n.title).substring(0,1)),action:(0,r.Z)(u.Fragment,{},void 0,H?(0,r.Z)(T.Z,{"aria-label":"sell",onClick:R,disabled:C.toUpperCase()!==t.toUpperCase()},void 0,gn||(gn=(0,r.Z)(fn.Z,{}))):null,(0,r.Z)(T.Z,{"aria-label":"send",onClick:()=>{C.toUpperCase()===t.toUpperCase()&&(l(!0),i({value:n,tokenInfo:M}))},disabled:C.toUpperCase()!==t.toUpperCase()},void 0,vn||(vn=(0,r.Z)(ze.Z,{})))),title:Cn(M?M.name:h),subheader:Cn(g)}),(0,r.Z)(ln.Z,{className:V.media,component:null!==W?W:"img",image:D,title:Cn(M?M.name:n.title),controls:!0}),(0,r.Z)(rn.Z,{disableSpacing:!0},void 0,(0,r.Z)(Gt.Z,{href:Nn(M,n),target:"_blank",rel:"noopener noreferrer"},void 0,Zn||(Zn=(0,r.Z)(T.Z,{"aria-label":"share"},void 0,(0,r.Z)(un.Z,{})))),(0,r.Z)(T.Z,{className:(0,cn.Z)(V.expand,{[V.expandOpen]:F}),onClick:()=>{O(!F)},"aria-expanded":F,"aria-label":"show more"},void 0,bn||(bn=(0,r.Z)(Rt.Z,{})))),(0,r.Z)(dn.Z,{in:F,timeout:"auto",unmountOnExit:!0},void 0,(0,r.Z)(on.Z,{},void 0,(0,r.Z)(I.Z,{container:!0,justifyContent:"center",spacing:1},void 0,(0,r.Z)(I.Z,{container:!0,justifyContent:"center",spacing:1},"contract_address",(0,r.Z)(G,{label:_,text:Z,href:Sn(Z)})),(0,r.Z)(I.Z,{container:!0,justifyContent:"center",spacing:1},"token_id",(0,r.Z)(G,{label:w,text:b}))),(0,r.Z)(k.Z,{className:V.description,variant:"subtitle1",color:"textSecondary",component:"p"},void 0,Cn(M?M.description:y)))))}var En=a(711),Hn=a(90212),jn=a(66053),Pn=a(21673),Vn=a(29594);function Fn(e){var{eventType:t}=e,{str_tx_sent_label:a,str_tx_received_label:n,str_tx_self_label:o,str_tx_call_label:l,str_tx_unknown_label:i}=window.ethereumWallet;switch(t){case"ETH_METHOD_CALL_TX":return(0,r.Z)(Hn.Z,{titleAccess:l});case"ETH_RECEIVE_TX":case"ERC20_RECEIVE_TX":case"NFT_RECEIVE_TX":return(0,r.Z)(Pn.Z,{titleAccess:n});case"ETH_SEND_TX":case"ERC20_SEND_TX":case"NFT_SEND_TX":return(0,r.Z)(Vn.Z,{titleAccess:a});case"ETH_SELF_TX":case"ERC20_SELF_TX":case"NFT_SELF_TX":return(0,r.Z)(jn.Z,{titleAccess:o})}return(0,r.Z)(En.Z,{titleAccess:i})}var In,On=a(30115),Mn=["path","title","tooltip"];function An(e){var{path:t,title:a,tooltip:n}=e,o=(0,V.Z)(e,Mn),l=a.length>0?a:In||(In=(0,r.Z)(Z.Z,{})),i=n||"";return u.createElement(Gt.Z,(0,P.Z)({href:t,alt:a,title:i,target:"_blank"},o),l)}function Rn(e){return u.createElement(An,(0,P.Z)({},e,{rel:"nofollow"}))}var Dn=(0,On.Z)((e=>({root:{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"center"},text:{wordBreak:"keep-all"},avatar:{marginRight:e.spacing(1)}})));function Wn(e,t){var{name:a,avatar:n}=e;return null===n?null:(0,r.Z)(pn.Z,{className:t.avatar,alt:a,src:n})}function Un(e){var t,{address:a,url:n,name:o,avatar:l}=e,i=Dn();if(""!==o)return(0,r.Z)(oe.Z,{component:"span",className:i.root},void 0,Wn(e,i),(0,r.Z)(k.Z,{className:i.text,align:"left",color:"textSecondary",component:"span"},void 0,t||(t=(0,r.Z)(An,{path:n,title:o,tooltip:a}))));var s=a.substring(2,8).toUpperCase();return(0,r.Z)(oe.Z,{component:"span",className:i.root},void 0,Wn(e,i),(0,r.Z)(k.Z,{className:i.text,align:"left",color:"textSecondary",component:"span"},void 0,(0,r.Z)(Rn,{path:n,title:s,tooltip:a})))}var Bn=(0,m.Z)((e=>({paper:{padding:"6px 16px"},nftWrapper:{display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"center",alignItems:"center"}}))),Ln=e=>new l.BigNumber(e).div(new l.BigNumber(10).pow(18)).toString(10),zn=(e,t)=>{if(0===t.length)return null;var a=t[0],{address:n,symbol:r,fiatCurrencySymbol:o,exchangerate:l,balance:i,iconpath:s,fiaticonpath:u,fiatbalance:c}=a,{price_decimals:d,str_na_label:p}=window.ethereumWallet;return'<span class="woocommerce-Price-amount amount"><span class="woocommerce-Price-currencySymbol">'+o+"</span>"+(p===l?p:(parseFloat(e)*parseFloat(l)).toFixed(d))+"</span>"};function Gn(e){var t,a,n,o,l,{iconheight:i,event:s,nfttokens:c,erc20token:d,setNFTForSending:p,setAccountDialogOpen:m}=e,{eventType:f,id:h,txhash:g,method:v,date:Z,from:b,to:y,value:_,tokenAddress:w,tokenID:x,tokenName:S,tokenSymbol:N,gas:C,gasUsed:T,isError:k,confirmed:E}=s,{str_tx_sent_label:H,str_tx_received_label:j,str_tx_self_label:P,str_tx_unknown_label:V,user_wallet_address:F,txHashPathTemplate:I,addressPathTemplate:O,currency_ticker:M,exchangerate:A,store_currency_symbol:R}=window.ethereumWallet,D=null!==A?(parseFloat(Ln(_))*parseFloat(A)).toFixed(2):"",W=((e,t,a)=>{if(void 0===t)return null;var n=e.filter((e=>void 0!==e.tokenID&&void 0!==e.tokenAddress&&null!==e.tokenID&&null!==e.tokenAddress&&e.tokenID.toUpperCase()===t.toUpperCase()&&e.tokenAddress.toUpperCase()===a.toUpperCase()));return 0===n.length?null:n[0].to})(c,x,w),U=tn()(1e3*parseInt(Z)).fromNow(),B=tn()(1e3*parseInt(Z)).format("LLLL"),L=Bn(),z=ye(),G=qa(_,Re(w,z,f)),X=(g.substr(0,8),sprintf(I,g)),q=(b.substr(0,8),sprintf(O,b)),$=an(b),J=(y.substr(0,8),sprintf(O,y)),K=an(y);switch(f){case"ETH_METHOD_CALL_TX":return(0,r.Z)(se,{iconpath:{value:(0,r.Z)(Fn,{eventType:f})},iconheight:i,title:{value:K?(0,r.Z)(Un,{address:y,url:K.userUrl,name:K.userName,avatar:K.userAvatarUrl}):(0,r.Z)(Rn,{path:J,title:v,tooltip:y,className:"ethereum-wallet-list-item-title",color:"textPrimary",variant:"body1"})},subtitle:{value:(0,r.Z)(Rn,{path:X,title:U,tooltip:B,className:"ethereum-wallet-list-item-subtitle",color:"textSecondary",variant:"subtitle2"})},value:R+D,subvalue:Ln(_)+M,paper:""});case"ETH_RECEIVE_TX":return(0,r.Z)(se,{iconpath:{value:(0,r.Z)(Fn,{eventType:f})},iconheight:i,title:{value:$?(0,r.Z)(Un,{address:b,url:$.userUrl,name:$.userName,avatar:$.userAvatarUrl}):(0,r.Z)(Rn,{path:q,title:j,tooltip:b,className:"ethereum-wallet-list-item-title",color:"textPrimary",variant:"body1"})},subtitle:{value:(0,r.Z)(Rn,{path:X,title:U,tooltip:B,className:"ethereum-wallet-list-item-subtitle",color:"textSecondary",variant:"subtitle2"})},value:R+D,subvalue:Ln(_)+M,paper:""});case"ETH_SEND_TX":return(0,r.Z)(se,{iconpath:{value:(0,r.Z)(Fn,{eventType:f})},iconheight:i,title:{value:K?(0,r.Z)(Un,{address:y,url:K.userUrl,name:K.userName,avatar:K.userAvatarUrl}):(0,r.Z)(Rn,{path:J,title:H,tooltip:y,className:"ethereum-wallet-list-item-title",color:"textPrimary",variant:"body1"})},subtitle:{value:(0,r.Z)(Rn,{path:X,title:U,tooltip:B,className:"ethereum-wallet-list-item-subtitle",color:"textSecondary",variant:"subtitle2"})},value:R+D,subvalue:Ln(_)+M,paper:""});case"ETH_SELF_TX":return(0,r.Z)(se,{iconpath:{value:(0,r.Z)(Fn,{eventType:f})},iconheight:i,title:P,subtitle:{value:(0,r.Z)(Rn,{path:X,title:U,tooltip:B,className:"ethereum-wallet-list-item-subtitle",color:"textSecondary",variant:"subtitle2"})},value:R+D,subvalue:Ln(_)+M,paper:""});case"ERC20_RECEIVE_TX":return(0,r.Z)(se,{iconpath:{value:(0,r.Z)(Fn,{eventType:f})},iconheight:i,title:{value:$?(0,r.Z)(Un,{address:b,url:$.userUrl,name:$.userName,avatar:$.userAvatarUrl}):(0,r.Z)(Rn,{path:q,title:j,tooltip:b,className:"ethereum-wallet-list-item-title",color:"textPrimary",variant:"body1"})},subtitle:{value:(0,r.Z)(Rn,{path:X,title:U,tooltip:B,className:"ethereum-wallet-list-item-subtitle",color:"textSecondary",variant:"subtitle2"})},value:zn(G,d),subvalue:G+N,paper:""});case"ERC20_SEND_TX":return(0,r.Z)(se,{iconpath:{value:(0,r.Z)(Fn,{eventType:f})},iconheight:i,title:{value:K?(0,r.Z)(Un,{address:y,url:K.userUrl,name:K.userName,avatar:K.userAvatarUrl}):(0,r.Z)(Rn,{path:J,title:H,tooltip:y,className:"ethereum-wallet-list-item-title",color:"textPrimary",variant:"body1"})},subtitle:{value:(0,r.Z)(Rn,{path:X,title:U,tooltip:B,className:"ethereum-wallet-list-item-subtitle",color:"textSecondary",variant:"subtitle2"})},value:zn(G,d),subvalue:G+N,paper:""});case"ERC20_SELF_TX":return(0,r.Z)(se,{iconpath:{value:(0,r.Z)(Fn,{eventType:f})},iconheight:i,title:P,subtitle:{value:(0,r.Z)(Rn,{path:X,title:U,tooltip:B,className:"ethereum-wallet-list-item-subtitle",color:"textSecondary",variant:"subtitle2"})},value:zn(G,d),subvalue:G+N,paper:""});case"NFT_RECEIVE_TX":return(0,r.Z)(u.Fragment,{},void 0,(0,r.Z)(se,{iconpath:{value:(0,r.Z)(Fn,{eventType:f})},iconheight:"auto",title:{value:$?(0,r.Z)(Un,{address:b,url:$.userUrl,name:$.userName,avatar:$.userAvatarUrl}):(0,r.Z)(Rn,{path:q,title:j,tooltip:b,className:"ethereum-wallet-list-item-title",color:"textPrimary",variant:"body1"})},value:{value:(0,r.Z)(Rn,{path:X,title:U,tooltip:B,className:"ethereum-wallet-list-item-value",color:"textPrimary",variant:"body1"})},subtitle:"",subvalue:"",paper:""}),(0,r.Z)(oe.Z,{component:"span",className:L.nftWrapper},void 0,t||(t=(0,r.Z)(kn,{web3:z,account:W,traits:null,setAccountDialogOpen:m,setNFTForSending:p,value:s}))));case"NFT_SEND_TX":return(0,r.Z)(u.Fragment,{},void 0,(0,r.Z)(se,{iconpath:{value:(0,r.Z)(Fn,{eventType:f})},iconheight:"auto",title:{value:K?(0,r.Z)(Un,{address:y,url:K.userUrl,name:K.userName,avatar:K.userAvatarUrl}):(0,r.Z)(Rn,{path:J,title:H,tooltip:y,className:"ethereum-wallet-list-item-title",color:"textPrimary",variant:"body1"})},value:{value:(0,r.Z)(Rn,{path:X,title:U,tooltip:B,className:"ethereum-wallet-list-item-value",color:"textPrimary",variant:"body1"})},subtitle:"",subvalue:"",paper:""}),(0,r.Z)(oe.Z,{component:"span",className:L.nftWrapper},void 0,a||(a=(0,r.Z)(kn,{web3:z,account:W,traits:null,setAccountDialogOpen:m,setNFTForSending:p,value:s}))));case"NFT_SELF_TX":return(0,r.Z)(u.Fragment,{},void 0,(0,r.Z)(se,{iconpath:{value:(0,r.Z)(Fn,{eventType:f})},iconheight:"auto",title:P,value:{value:(0,r.Z)(Rn,{path:X,title:U,tooltip:B,className:"ethereum-wallet-list-item-value",color:"textPrimary",variant:"body1"})},subtitle:"",subvalue:"",paper:""}),(0,r.Z)(oe.Z,{component:"span",className:L.nftWrapper},void 0,n||(n=(0,r.Z)(kn,{web3:z,account:W,traits:null,setAccountDialogOpen:m,setNFTForSending:p,value:s}))));case"NFT_MINT_TX":return(0,r.Z)(u.Fragment,{},void 0,(0,r.Z)(se,{iconpath:{value:(0,r.Z)(Fn,{eventType:f})},iconheight:"auto",title:{value:K?(0,r.Z)(Un,{address:y,url:K.userUrl,name:K.userName,avatar:K.userAvatarUrl}):(0,r.Z)(Rn,{path:J,title:str_tx_mint_label,tooltip:y,className:"ethereum-wallet-list-item-title",color:"textPrimary",variant:"body1"})},value:{value:(0,r.Z)(Rn,{path:X,title:U,tooltip:B,className:"ethereum-wallet-list-item-value",color:"textPrimary",variant:"body1"})},subtitle:"",subvalue:"",paper:""}),(0,r.Z)(oe.Z,{component:"span",className:L.nftWrapper},void 0,o||(o=(0,r.Z)(kn,{web3:z,account:W,traits:null,setAccountDialogOpen:m,setNFTForSending:p,value:s}))));case"NFT_UNKNOWN_TX":return(0,r.Z)(u.Fragment,{},void 0,(0,r.Z)(se,{iconpath:{value:(0,r.Z)(Fn,{eventType:f})},iconheight:"auto",title:{value:K?(0,r.Z)(Un,{address:y,url:K.userUrl,name:K.userName,avatar:K.userAvatarUrl}):(0,r.Z)(Rn,{path:J,title:V,tooltip:y,className:"ethereum-wallet-list-item-title",color:"textPrimary",variant:"body1"})},value:{value:(0,r.Z)(Rn,{path:X,title:U,tooltip:B,className:"ethereum-wallet-list-item-value",color:"textPrimary",variant:"body1"})},subtitle:"",subvalue:"",paper:""}),(0,r.Z)(oe.Z,{component:"span",className:L.nftWrapper},void 0,l||(l=(0,r.Z)(kn,{web3:z,account:W,traits:null,setAccountDialogOpen:m,setNFTForSending:p,value:s}))))}return(0,r.Z)(se,{iconpath:{value:(0,r.Z)(Fn,{eventType:f})},iconheight:i,title:{value:K?(0,r.Z)(Un,{address:y,url:K.userUrl,name:K.userName,avatar:K.userAvatarUrl}):(0,r.Z)(Rn,{path:J,title:V,tooltip:y,className:"ethereum-wallet-list-item-title",color:"textPrimary",variant:"body1"})},subtitle:{value:(0,r.Z)(Rn,{path:X,title:U,tooltip:B,className:"ethereum-wallet-list-item-subtitle",color:"textSecondary",variant:"subtitle2"})},value:Ln(_)+M,subvalue:"",paper:""})}var Xn=(0,m.Z)((e=>({root:{width:"100%"},pagination:{float:"right",paddingBottom:e.spacing(1)},divider:{margin:e.spacing(1,0)}})));function qn(e){var{direction:t,rows:a,iconheight:n,updatetimeout:i,tokens:s}=e,c=JSON.parse(s),d=Xn(),{user_wallet_address:p,str_confirm_dlg_title:m,str_alert_dlg_title:f,str_nft_token_send_confirm_msg:h,str_account_dlg_incorrect_address_msg:g,str_token_send_failed_msg:v}=window.ethereumWallet,Z=p,b=a,[y,_]=(0,u.useState)([]),[w,x]=(0,u.useState)(1),[S,N]=(0,u.useState)(1),C=1e3*parseInt(i),[T,k]=(0,u.useState)(Math.floor((new Date).getTime()/C)),[E,j]=(0,u.useState)(!1),[P,V]=(0,u.useState)(!1),[F,O]=(0,u.useState)(""),[M,A]=(0,u.useState)(null),[R,D]=(0,u.useState)(null),[W,U]=(0,u.useState)(null),[B,L]=(0,u.useState)(null),[z,G]=(0,u.useState)(!1),[X,q]=(0,u.useState)("");(0,ue.Z)((()=>{k(Math.floor((new Date).getTime()/C))}),1e3);var $=ye(),J=function(e,t,a){var[n,r]=(0,u.useState)([]),{txListAPIURLTemplate:l}=window.ethereumWallet,i=La((0,o.sprintf)(l,e),a);return(0,u.useEffect)((()=>{if(null!==e&&null!==t&&null!==a&&null!==i){var n=e.toUpperCase(),o=i.filter((e=>"inout"===t||"in"===t&&e.to.toUpperCase()===n||"out"===t&&e.from.toUpperCase()===n)).map((e=>{var a=null;if(e.input.length>2){var r=e.input.substring(0,10);a=r,void 0!==Ma[r]&&(a=(a=Ma[r]).substring(0,a.indexOf("(")))}var o=((e,t,a,n)=>{var r="ETH_UNKNOWN_TX";return"inout"!==t&&"in"!==t||e.to.toUpperCase()!==a?"inout"!==t&&"out"!==t||e.from.toUpperCase()!==a||(r="ETH_SEND_TX"):r="ETH_RECEIVE_TX",e.to.toUpperCase()===a&&e.from.toUpperCase()===a&&(r="ETH_SELF_TX"),null!==n&&(r="ETH_METHOD_CALL_TX"),r})(e,t,n,a);return{id:e.hash.substring(2),txhash:e.hash,eventType:o,method:a,date:e.timeStamp,from:e.from,to:e.to.length>0?e.to:e.contractAddress,tokenAddress:null,tokenName:null,tokenSymbol:null,value:e.value,gas:e.gas,gasPrice:"undefined"!==e.gasPrice?e.gasPrice:null,maxFeePerGas:"undefined"!==e.maxFeePerGas?e.maxFeePerGas:null,maxPriorityFeePerGas:"undefined"!==e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,gasUsed:e.gasUsed,isError:e.isError,confirmed:e.confirmations.length>0&&parseInt(e.confirmations)>0}}));r(o)}}),[e,t,a,i]),n}(Z,t,T),K=function(e,t,a){var[n,r]=(0,u.useState)([]),{internalTxListAPIURLTemplate:l}=window.ethereumWallet,i=La((0,o.sprintf)(l,e),a);return(0,u.useEffect)((()=>{if(null!==e&&null!==t&&null!==a&&null!==i){var n=e.toUpperCase(),o=i.filter((e=>"inout"===t||"in"===t&&e.to.toUpperCase()===n||"out"===t&&e.from.toUpperCase()===n)).map((e=>{var a=((e,t,a,n)=>{var r="ETH_INTERNAL_UNKNOWN_TX";return"inout"!==t&&"in"!==t||e.to.toUpperCase()!==a?"inout"!==t&&"out"!==t||e.from.toUpperCase()!==a||(r="ETH_INTERNAL_SEND_TX"):r="ETH_INTERNAL_RECEIVE_TX",e.to.toUpperCase()===a&&e.from.toUpperCase()===a&&(r="ETH_INTERNAL_SELF_TX"),null!==n&&(r="ETH_INTERNAL_METHOD_CALL_TX"),r})(e,t,n,null);return{id:e.hash.substring(2)+"-"+e.traceId,txhash:e.hash,eventType:a,date:e.timeStamp,from:e.from,to:e.to.length>0?e.to:e.contractAddress,value:e.value,gas:e.gas,gasUsed:e.gasUsed,isError:e.isError,errCode:e.errCode}}));r(o)}}),[e,t,a,i]),n}(Z,t,T),Y=function(e,t,a){var[n,r]=(0,u.useState)([]),{tokenTxListAPIURLTemplate:l,erc20_abi:i}=window.ethereumWallet,s=La((0,o.sprintf)(l,e),a);return(0,u.useEffect)((()=>{if(null!==e&&null!==t&&null!==a&&null!==s&&null!==i){var n=e.toUpperCase(),o=s.filter((e=>"inout"===t||"in"===t&&e.to.toUpperCase()===n||"out"===t&&e.from.toUpperCase()===n)).map((e=>{var a=((e,t,a)=>{var n="ERC20_UNKNOWN_TX";return"inout"!==t&&"in"!==t||e.to.toUpperCase()!==a?"inout"!==t&&"out"!==t||e.from.toUpperCase()!==a||(n="ERC20_SEND_TX"):n="ERC20_RECEIVE_TX",e.to.toUpperCase()===a&&e.from.toUpperCase()===a&&(n="ERC20_SELF_TX"),n})(e,t,n);return{id:e.hash.substring(2),txhash:e.hash,eventType:a,method:null,date:e.timeStamp,from:e.from,to:e.to,tokenAddress:e.contractAddress,tokenName:e.tokenName,tokenSymbol:e.tokenSymbol,value:e.value,gas:e.gas,gasPrice:"undefined"!==e.gasPrice?e.gasPrice:null,maxFeePerGas:"undefined"!==e.maxFeePerGas?e.maxFeePerGas:null,maxPriorityFeePerGas:"undefined"!==e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,gasUsed:e.gasUsed,confirmed:e.confirmations.length>0&&parseInt(e.confirmations)>0}}));r(o)}}),[e,t,a,s]),n}(Z,t,T),Q=function(e,t,a){var[n,r]=(0,u.useState)(null),{tokenNFTTxListAPIURLTemplate:i,erc721_abi:s}=window.ethereumWallet,c=La((0,o.sprintf)(i,e),a);return(0,u.useEffect)((()=>{if(null!==e&&null!==c&&null!==s){var a=e.toUpperCase(),n=c.filter((e=>"inout"===t||"in"===t&&e.to.toUpperCase()===a||"out"===t&&e.from.toUpperCase()===a)).map((e=>{var n=((e,t,a)=>{var n="NFT_UNKNOWN_TX";return"inout"!==t&&"in"!==t||e.to.toUpperCase()!==a?"inout"!==t&&"in"!==t||"0X0000000000000000000000000000000000000000"!==e.from.toUpperCase()?"inout"!==t&&"out"!==t||e.from.toUpperCase()!==a||(n="NFT_SEND_TX"):n="NFT_MINT_TX":n="NFT_RECEIVE_TX",e.to.toUpperCase()===a&&e.from.toUpperCase()===a&&(n="NFT_SELF_TX"),n})(e,t,a),r=new l.BigNumber(e.tokenID).toString(10),o=r.length<=12?r:e.tokenID.substring(0,4)+"..."+e.tokenID.substring(e.tokenID.length-4);return{id:e.hash.substring(2),txhash:e.hash,eventType:n,date:e.timeStamp,from:e.from,to:e.to,tokenAddress:e.contractAddress,tokenName:e.tokenName,tokenSymbol:e.tokenSymbol,value:e.tokenID,gas:e.gas,gasPrice:"undefined"!==e.gasPrice?e.gasPrice:null,maxFeePerGas:"undefined"!==e.maxFeePerGas?e.maxFeePerGas:null,maxPriorityFeePerGas:"undefined"!==e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,gasUsed:e.gasUsed,confirmed:e.confirmations.length>0&&parseInt(e.confirmations)>0,mnemonic:"nft"+e.contractAddress+e.tokenID,title:e.tokenName+" "+o,description:e.tokenName+" "+o,image:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDQ4IDQ4Ij48cGF0aCBkPSJNNDIgMzhWMTBjMC0yLjIxLTEuNzktNC00LTRIMTBjLTIuMjEgMC00IDEuNzktNCA0djI4YzAgMi4yMSAxLjc5IDQgNCA0aDI4YzIuMjEgMCA0LTEuNzkgNC00ek0xNyAyN2w1IDYuMDFMMjkgMjRsOSAxMkgxMGw3LTl6Ii8+PC9zdmc+",action:()=>{},available:!0,contractAddress:e.contractAddress,tokenID:e.tokenID,tokenIDDisplay:o,external_url:e.external_url,attributes:e.attributes}}));r(n)}}),[e,t,a,c]),n}(Z,t,T),ee=function(e){var[t,a]=(0,u.useState)(null);return(0,u.useEffect)((()=>{if(null!==e){var t={};e.sort(((e,t)=>parseInt(e.date)-parseInt(t.date))).forEach((e=>{t[e.mnemonic]=e}));var n=Object.keys(t).map((e=>t[e])).sort(((e,t)=>parseInt(t.date)-parseInt(e.date)));a(n)}}),[e]),t}(Q),te=xa($,T),ae=function(e,t,a,n){var[r,o]=(0,u.useState)([]);return(0,u.useEffect)((()=>{if(null!==e){var r=e.map((e=>{var r=(null===t?[]:t).filter((t=>-1!==t.txhash.indexOf(e.txhash))),o=(null===a?[]:a).filter((t=>-1!==t.txhash.indexOf(e.txhash))),l=(null===n?[]:n).filter((t=>-1!==t.txhash.indexOf(e.txhash))),i=Xa(e,r),s=i.length>0?i:[e],u=s.map((e=>Xa(e,o))).reduce(((e,t)=>e.concat(t)),[]),c=s.map((e=>Xa(e,l))).reduce(((e,t)=>e.concat(t)),[]),d=u.concat(c);return d.length>0?d:[e]})).reduce(((e,t)=>e.concat(t)),[]),l=(null===t?[]:t).filter((t=>e.reduce(((e,a)=>e&&-1===t.txhash.indexOf(a.txhash)),!0))),i=(null===a?[]:a).filter((t=>e.reduce(((e,a)=>e&&-1===t.txhash.indexOf(a.txhash)),!0))),s=(null===n?[]:n).filter((t=>e.reduce(((e,a)=>e&&-1===t.txhash.indexOf(a.txhash)),!0))),u=r.concat(l).concat(i).concat(s).sort(((e,t)=>parseInt(t.timeStamp)-parseInt(e.timeStamp)));o(u)}else o([])}),[e,t,a,n]),r}(J,K,Y,Q),ne=R?R.value.tokenID:null,re=R?R.value.contractAddress:null,oe=Ga(re,Z,M,ne,$),le=oa(p,$,T),ie=_e($),se=null!==te?parseFloat(te.safe):null,de=ra(p,re,0,oe,ie,$),pe=sa(p,re,0,oe,le,se,null!==te?te.maxFeePerGas:null,de,ie),me=function(){var e=(0,ce.Z)((function*(){if(null!==pe)try{console.log("txObject:",pe),we(yield Ee(pe),$,function(){var e=(0,ce.Z)((function*(e){console.log(e),U(e),L(0),k((new Date).getTime())}));return function(t){return e.apply(this,arguments)}}(),(function(e){L(1)}),(function(e){console.log(e),q(e.message),G(!0)}))}catch(e){console.error(e),q(e.message),G(!0)}}));return function(){return e.apply(this,arguments)}}();(0,u.useEffect)((()=>{if(null!==ae){var e=(S-1)*b,t=S*b;_(ae.slice(e,t))}}),[ae,S]),(0,u.useEffect)((()=>{null!==ae&&x(Math.ceil(ae.length/b))}),[ae]);return(0,r.Z)(u.Fragment,{},void 0,(0,r.Z)(Qt,{lastTxHash:W,lastTxConfirmations:B}),(0,r.Z)(H,{title:f,message:X,open:z,onClose:()=>{G(!1)}}),(0,r.Z)(ta,{title:m,message:F,open:P,onConfirm:()=>{V(!1),me()},onCancel:()=>{V(!1)}}),(0,r.Z)(Qa,{value:M,open:E,onClose:e=>{j(!1)},onChange:e=>{var t=function(){var t=(0,ce.Z)((function*(){if(!$.utils.isAddress(e))return q(g),void G(!0);A(e),j(!1);var{value:t,tokenInfo:a}=R;O(sprintf(h,a?a.name:t.title,e)),V(!0)}));return function(){return t.apply(this,arguments)}}();t()}}),(0,r.Z)(Fa.Z,{count:w,page:S,onChange:(e,t)=>{N(t)},className:d.pagination,siblingCount:0,boundaryCount:1}),(0,r.Z)(I.Z,{container:!0,justifyContent:"center",className:d.root,spacing:1},void 0,y.map((e=>(0,r.Z)(I.Z,{xs:12,item:!0},e.id,(0,r.Z)(Gn,{iconheight:n,event:e,nfttokens:ee||[],erc20token:c.filter((t=>null!==e.tokenAddress&&void 0!==e.tokenAddress&&t.address.toUpperCase()===e.tokenAddress.toUpperCase())),setNFTForSending:D,setAccountDialogOpen:j}),(0,r.Z)(Ia.Z,{className:d.divider}))))))}a(73210);var $n,Jn,Kn=a(30585),Yn=a(47622),Qn=a(63957),er=(0,m.Z)((e=>({formControl:{width:"100%"},button:{margin:e.spacing(1,1,0,0),width:"100%",maxWidth:"33.333333%"},progress:{margin:e.spacing(1,1,0,0)},buttonWrapper:{display:"flex",flexWrap:"nowrap",justifyContent:"flex-end",alignItems:"center",flexDirection:"row"},textField:{width:"100%"}})));function tr(e){var{label:t,nonce:a,buttonlabel:n,placeholder:o}=e,{str_account_management_default_account_name:l,str_account_management_default_account_replacement_error_msg:i,str_account_management_empty_account_error_msg:s,str_account_management_account_create_error_msg:c,str_account_management_account_create_success_msg:d}=window.ethereumWallet,p=er(),[m,h]=(0,u.useState)(""),[g,v]=(0,u.useState)(!1),[Z,y]=(0,u.useState)(""),[_,w]=(0,u.useState)(!1),x=function(){var e=(0,ce.Z)((function*(e){if(e.preventDefault(),""===m.trim())return y(s),void v(!0);if(l===m.trim())return y(i),void v(!0);w(!0);try{var t=yield fetch("/",{method:"POST",headers:{Accept:"text/plain","Content-type":"application/x-www-form-urlencoded"},dataType:"text",body:ke({action:"ethereum_wallet_account_management_create_send","ethereum-wallet-account-management-create-name":m.trim(),_wpnonce:a})});if(null===t||'""'===t)return console.error("handleSubmit error: empty result"),y(c),v(!0),void w(!1);if('""'===(yield t.text()))return console.error("handleSubmit error: empty result"),y(c),v(!0),void w(!1);window.location.reload()}catch(e){console.error("handleSubmit error: empty result: ",e),y(c),v(!0),w(!1)}}));return function(t){return e.apply(this,arguments)}}();return(0,r.Z)("form",{onSubmit:x},void 0,(0,r.Z)(it.Z,{component:"fieldset",error:g,className:p.formControl},void 0,(0,r.Z)(f.Z,{label:t,value:m,onChange:e=>{_||h(e.target.value)},className:p.textField,margin:"dense",variant:"standard",fullWidth:!0,placeholder:o,disabled:_,InputProps:{startAdornment:$n||($n=(0,r.Z)(Yn.Z,{}))}}),(0,r.Z)(Kn.Z,{},void 0,Z),(0,r.Z)(oe.Z,{className:p.buttonWrapper},void 0,_&&(0,r.Z)(Xt.Z,{className:p.progress,size:24}),(0,r.Z)(b.Z,{type:"submit",variant:"contained",color:"primary",disabled:_,className:p.button,startIcon:Jn||(Jn=(0,r.Z)(Qn.Z,{}))},void 0,n))))}var ar,nr,rr,or=a(43099),lr=a(37094),ir=(0,m.Z)((e=>({formControl:{width:"100%"},button:{margin:e.spacing(1,1,0,0),width:"100%",maxWidth:"33.333333%"},progress:{margin:e.spacing(1,1,0,0)},buttonWrapper:{display:"flex",flexWrap:"nowrap",justifyContent:"flex-end",alignItems:"center",flexDirection:"row"},textField:{width:"100%"}})));function sr(e){var{label:t,nonce:a,placeholder:n,labelkey:o,placeholderkey:l,buttonlabel:i}=e,{str_account_management_default_account_name:s,str_account_management_default_account_replacement_error_msg:c,str_account_management_empty_account_error_msg:d,str_account_management_empty_key_error_msg:p,str_account_management_account_import_error_msg:m,str_account_management_account_import_success_msg:h}=window.ethereumWallet,g=ir(),[v,Z]=(0,u.useState)(""),[y,_]=(0,u.useState)(""),[w,x]=(0,u.useState)(!1),[S,N]=(0,u.useState)(""),[C,T]=(0,u.useState)(!1),k=function(){var e=(0,ce.Z)((function*(e){if(e.preventDefault(),""===v.trim())return N(d),void x(!0);if(s===v.trim())return N(c),void x(!0);if(""===y.trim())return N(p),void x(!0);T(!0);try{var t=yield fetch("/",{method:"POST",headers:{Accept:"text/plain","Content-type":"application/x-www-form-urlencoded"},dataType:"text",body:ke({action:"ethereum_wallet_account_management_import_send","ethereum-wallet-account-management-import-name":v.trim(),"ethereum-wallet-account-management-import-key":y.trim(),_wpnonce:a})});if(null===t||'""'===t)return console.error("handleSubmit error: empty result"),N(m),x(!0),void T(!1);if('""'===(yield t.text()))return console.error("handleSubmit error: empty result"),N(m),x(!0),void T(!1);window.location.reload()}catch(e){console.error("handleSubmit error: empty result: ",e),N(m),x(!0),T(!1)}}));return function(t){return e.apply(this,arguments)}}();return(0,r.Z)("form",{onSubmit:k},void 0,(0,r.Z)(it.Z,{component:"fieldset",error:w,className:g.formControl},void 0,(0,r.Z)(f.Z,{label:t,value:v,onChange:e=>{C||Z(e.target.value)},className:g.textField,margin:"dense",variant:"standard",fullWidth:!0,placeholder:n,disabled:C,InputProps:{startAdornment:ar||(ar=(0,r.Z)(Yn.Z,{}))}}),(0,r.Z)(f.Z,{label:o,value:y,onChange:e=>{C||_(e.target.value)},className:g.textField,margin:"dense",variant:"standard",fullWidth:!0,placeholder:l,disabled:C,InputProps:{startAdornment:nr||(nr=(0,r.Z)(lr.Z,{}))}}),(0,r.Z)(Kn.Z,{},void 0,S),(0,r.Z)(oe.Z,{className:g.buttonWrapper},void 0,C&&(0,r.Z)(Xt.Z,{className:g.progress,size:24}),(0,r.Z)(b.Z,{type:"submit",variant:"contained",color:"primary",disabled:C,className:g.button,startIcon:rr||(rr=(0,r.Z)(or.Z,{}))},void 0,i))))}var ur,cr,dr=a(28428),pr=a(41959),mr=(0,m.Z)((e=>({formControl:{width:"100%"},button:{margin:e.spacing(1,1,0,0),width:"100%",maxWidth:"33.333333%"},progress:{margin:e.spacing(1,1,0,0)},buttonWrapper:{display:"flex",flexWrap:"nowrap",justifyContent:"flex-end",alignItems:"center",flexDirection:"row"},textField:{width:"100%"}}))),fr=0;function hr(e){for(var{label:t,nonce:a,buttonremovelabel:n,buttonselectlabel:o,accounts:l}=e,i=0,s=0;s<l.length;s++){if(l[s].selected){i=s;break}}var{str_account_management_account_select_selected_error_msg:c,str_account_management_account_select_error_msg:d,str_account_management_account_select_delete_internal_error_msg:p,str_account_management_account_delete_selected_error_msg:m}=window.ethereumWallet,f=mr(),[h,g]=(0,u.useState)(i),[v,Z]=(0,u.useState)(null),[y,_]=(0,u.useState)(!1),[w,x]=(0,u.useState)(""),[S,N]=(0,u.useState)(!1),[C,T]=(0,u.useState)(0);(0,u.useEffect)((()=>{0===C&&(fr++,T(fr))}),[C]);var k="ethereum-wallet-account-management-select-"+C,E=function(){var e=(0,ce.Z)((function*(e){e.preventDefault();var t=l[h],n=t.address;if("ethereum-wallet-account-management-delete-send-button"===v&&!t.imported)return x(p),_(!0),void console.log("non-imported account delete requested:",n);if(t.selected)return"ethereum-wallet-account-management-delete-send-button"===v?(x(m),_(!0),void console.log("selected account delete requested:",n)):(x(c),_(!0),void console.log("already selected account:",n));N(!0);try{var r=yield fetch("/",{method:"POST",headers:{Accept:"text/plain","Content-type":"application/x-www-form-urlencoded"},dataType:"text",body:ke({action:"ethereum_wallet_account_management_select_send",[v]:1,"ethereum-wallet-account-management-select-default":t.address,_wpnonce:a})});if(null===r||'""'===r)return console.error("handleSubmit error: empty result"),x(d),_(!0),void N(!1);if('""'===(yield r.text()))return console.error("handleSubmit error: empty result"),x(d),_(!0),void N(!1);window.location.reload()}catch(e){console.error("handleSubmit error: empty result: ",e),x(d),_(!0),N(!1)}}));return function(t){return e.apply(this,arguments)}}(),H=e=>{var t=l[e],{name:a,address:n,selected:r,imported:o}=t;return a+" - "+n};return(0,r.Z)("form",{onSubmit:E},void 0,(0,r.Z)(it.Z,{component:"fieldset",error:y,className:f.formControl},void 0,(0,r.Z)(lt.Z,{id:k},void 0,t),(0,r.Z)(ot.Z,{labelId:k,className:f.root,margin:"dense",variant:"standard",renderValue:H,value:h},void 0,l.map(((e,t)=>(0,r.Z)(rt.Z,{value:t,selected:t===h,onClick:e=>((e,t)=>{g(t)})(0,t)},e.address,H(t))))),(0,r.Z)(Kn.Z,{},void 0,w),(0,r.Z)(oe.Z,{className:f.buttonWrapper},void 0,S&&(0,r.Z)(Xt.Z,{className:f.progress,size:24}),(0,r.Z)(b.Z,{type:"submit",variant:"contained",color:"primary",onClick:()=>{S||Z("ethereum-wallet-account-management-delete-send-button")},disabled:S,className:f.button,startIcon:ur||(ur=(0,r.Z)(dr.Z,{}))},void 0,n),(0,r.Z)(b.Z,{type:"submit",variant:"contained",color:"primary",onClick:()=>{S||Z("ethereum-wallet-account-management-select-send-button")},disabled:S,className:f.button,startIcon:cr||(cr=(0,r.Z)(pr.Z,{}))},void 0,o))))}a(66990);a(718),a(62860),a(34424),Object.keys||a(82215),a(92359);var gr=(0,p.Z)({});function vr(e,t,a){var n=document.getElementsByClassName(e);n?t(n,a):document.addEventListener("DOMContentLoaded",(function(){var n=document.getElementsByClassName(e);n&&t(n,a)}))}vr("ethereum-wallet-account-shortcode",(function(e,t){for(var a=0,n=e.length||0;a<n;a=a+1||0){var o=e[a],{label:l,nolabel:i,account:s}=o.dataset;c.render((0,r.Z)(d.Z,{theme:t},void 0,(0,r.Z)(G,{label:"yes"===i?"":l,text:s})),o)}}),gr),vr("ethereum-wallet-account-management-export-shortcode",(function(e,t){for(var a=0,n=e.length||0;a<n;a=a+1||0){var o=e[a],{label:l,nolabel:i,account:s}=o.dataset;c.render((0,r.Z)(d.Z,{theme:t},void 0,(0,r.Z)(ae,{label:"yes"===i?"":l,text:s})),o)}}),gr),vr("ethereum-wallet-account-management-create-shortcode",(function(e,t){for(var a=0,n=e.length||0;a<n;a=a+1||0){var o=e[a],{label:l,nolabel:i,nonce:s,buttonlabel:u,placeholder:p}=o.dataset;c.render((0,r.Z)(d.Z,{theme:t},void 0,(0,r.Z)(tr,{label:"yes"===i?"":l,nonce:s,buttonlabel:u,placeholder:p})),o)}}),gr),vr("ethereum-wallet-account-management-import-shortcode",(function(e,t){for(var a=0,n=e.length||0;a<n;a=a+1||0){var o=e[a],{label:l,nolabel:i,nonce:s,placeholder:u,labelkey:p,nolabelkey:m,placeholderkey:f,buttonlabel:h}=o.dataset;c.render((0,r.Z)(d.Z,{theme:t},void 0,(0,r.Z)(sr,{label:"yes"===i?"":l,nonce:s,placeholder:u,labelkey:"yes"===m?"":p,placeholderkey:f,buttonlabel:h})),o)}}),gr),vr("ethereum-wallet-account-management-select-shortcode",(function(e,t){for(var a=0,n=e.length||0;a<n;a=a+1||0){var o=e[a],{label:l,nolabel:i,nonce:s,accounts:u,buttonremovelabel:p,buttonselectlabel:m}=o.dataset,f=JSON.parse(u);c.render((0,r.Z)(d.Z,{theme:t},void 0,(0,r.Z)(hr,{label:"yes"===i?"":l,accounts:f,nonce:s,buttonremovelabel:p,buttonselectlabel:m})),o)}}),gr),vr("ethereum-wallet-balance-shortcode",(function(e,t){for(var a=0,n=e.length||0;a<n;a=a+1||0){var o=e[a],l=o.dataset;c.render((0,r.Z)(d.Z,{theme:t},void 0,u.createElement(Be,l)),o)}}),gr),vr("ethereum-wallet-sendform-shortcode",(function(e,t){for(var a=0,n=e.length||0;a<n;a=a+1||0){var o=e[a],l=o.dataset;c.render((0,r.Z)(d.Z,{theme:t},void 0,u.createElement(Va,l)),o)}}),gr),vr("ethereum-wallet-history-shortcode",(function(e,t){for(var a=0,n=e.length||0;a<n;a=a+1||0){var o=e[a],l=o.dataset;c.render((0,r.Z)(d.Z,{theme:t},void 0,u.createElement(qn,l)),o)}}),gr)},46700:function(e,t,a){var n={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":15596,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":15596,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":44257,"./tg.js":44257,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=46700},46601:function(){},71922:function(){},2363:function(){},27790:function(){},31069:function(){},83718:function(){},52361:function(){},94616:function(){},80420:function(){},38733:function(){},80941:function(){},33609:function(){},64717:function(){}},function(e){e.O(0,[216],(function(){return t=10685,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=main.aeebb25279b51c6a95d0.js.map